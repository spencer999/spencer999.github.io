webpackJsonp([75],{1015:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-20"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入用户ID、登录名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.conditionQuery(t)}},model:{value:e.currencyTrans.keyword,callback:function(t){e.currencyTrans.keyword=t},expression:"currencyTrans.keyword"}}),e._v(" "),a("span",[e._v("虚拟币类型")]),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"全部类型"},model:{value:e.currencyTrans.introduceId,callback:function(t){e.currencyTrans.introduceId=t},expression:"currencyTrans.introduceId"}},e._l(e.coinList,function(e){return a("el-option",{key:e.baseSeq,attrs:{label:e.chineseName,value:e.baseSeq}})})),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"30px"},attrs:{size:"small"},on:{click:e.conditionQuery}},[e._v("查询\n        ")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:e.exportData}},[e._v("导出数据\n        ")])],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"给我一点时间"}},e._l(e.tableHeader,function(e){return a("el-table-column",{key:e.prop,attrs:{label:e.label,prop:e.prop,width:e.width,"min-width":e.minWidth,align:e.align,formatter:e.formatter,"show-overflow-tooltip":""}})})),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currencyTrans.page,"page-sizes":[10,20,30,50],"page-size":e.currencyTrans.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.userPageSize,"current-change":e.userPage}})],1)],1)])},n=[],i={render:r,staticRenderFns:n};t.a=i},167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(794),n=a.n(r),i=a(1015),s=a(23),l=s(n.a,i.a,null,null,null);t.default=l.exports},713:function(e,t,a){"use strict";function r(e){return(0,d.default)({url:"admin/currencytrans",method:"get",params:e})}function n(e){return(0,d.default)({url:"admin/currencytrans/pass",method:"put",data:e})}function i(e){return(0,d.default)({url:"admin/currencytrans/lock",method:"put",data:e})}function s(e){return(0,d.default)({url:"admin/currencytrans/issue",method:"put",data:e})}function l(e){return(0,d.default)({url:"admin/currencytrans/cancel",method:"put",data:e})}function c(e){return(0,d.default)({url:"admin/currencytrans/neglect",method:"put",data:e})}function u(e){return(0,d.default)({url:"admin/currencytrans/repair/txid",method:"put",data:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrency=r,t.passCurrency=n,t.lockCurrency=i,t.issueCurrency=s,t.cancelCurrency=l,t.neglectcurrency=c,t.repairTXId=u;var o=a(24),d=function(e){return e&&e.__esModule?e:{default:e}}(o)},794:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),n=function(e){return e&&e.__esModule?e:{default:e}}(r),i=a(713),s={baseSeq:0,chineseName:"全部类型",englishName:""},l=[{key:0,display_name:"全部状态"},{key:2,display_name:"等待审核"},{key:3,display_name:"成功提现"},{key:4,display_name:"系统撤销"},{key:5,display_name:"用户撤销"},{key:6,display_name:"正在处理"},{key:7,display_name:"正在拨币"}];t.default={data:function(){return{allCoin:s,coinList:[],dateTime:"",tableData:[],total:null,lockWithdrawalVo:{id:"",status:""},currencyTrans:{keyword:"",introduceId:0,type:2,status:3,page:1,pageSize:15},msg:"",listLoading:!0,tableHeader:[{label:"单号id",prop:"id",align:"center",width:45},{label:"会员UID",prop:"userId",align:"center",width:55},{label:"登录名",prop:"signtype",width:80,align:"center",formatter:function(e,t,a){return 1===a?e.phone:2===a?e.email:"未知"}},{label:"会员昵称",prop:"nickName",width:80},{label:"真实姓名",prop:"realName",width:65},{label:"资产类型",prop:"currencyName",width:55,align:"center"},{label:"交易类型",prop:"type",width:55,align:"center",formatter:function(e,t,a){return 1===a?"充值":"提现"}},{label:"状态",prop:"status",width:55,align:"center",formatter:function(e,t,a){var r=n.default.utils.findDataByValue(l,a,"key");return r?r.display_name:""}},{label:"提现数量",width:65,align:"center",formatter:function(e,t,a){var r,n,i,s;try{r=e.amount.toString().split(".")[1].length}catch(e){r=0}try{n=e.fee.toString().split(".")[1].length}catch(e){n=0}return i=Math.pow(10,Math.max(r,n)),s=r>=n?r:n,((e.amount*i-e.fee*i)/i).toFixed(s)}},{label:"手续费",prop:"fee",align:"center",width:45},{label:"提现地址",prop:"transAddress",width:265,align:"center"},{label:"交易id",prop:"txId",width:450,align:"center"},{label:"创建时间",prop:"createTime",formatter:function(e,t,a){return n.default.utils.parseDateTimeStr(a)}},{label:"最后修改时间",prop:"updateTime",formatter:function(e,t,a){return n.default.utils.parseDateTimeStr(a)}}]}},computed:{tableDataLength:function(){return this.tableData.length}},methods:{userPage:function(e){this.currencyTrans.page=e,this.getList()},userPageSize:function(e){this.currencyTrans.pageSize=e,this.getList()},conditionQuery:function(){this.getList()},issueCurrency:function(e,t){var a=this;this.lockWithdrawalVo.id=e,this.lockWithdrawalVo.status=t,(0,i.issueCurrency)(this.lockWithdrawalVo).then(function(e){e.result?(a.msg="已移入问题列表",a.$message({type:"success",message:a.msg})):(a.msg="移入问题列表失败",a.$message({type:"error",message:a.msg})),a.getList()})},lockCurrency:function(e,t){var a=this;this.lockWithdrawalVo.id=e,this.lockWithdrawalVo.status=t,(0,i.lockCurrency)(this.lockWithdrawalVo).then(function(e){e.result?(a.msg="已锁定此单",a.$message({type:"success",message:a.msg})):(a.msg="未能锁定请检查",a.$message({type:"success",message:a.msg})),a.getList()})},cancelCurrency:function(e){var t=this;this.lockWithdrawalVo.id=e,(0,i.cancelCurrency)(this.lockWithdrawalVo).then(function(e){e.result&&(t.msg="已取消提现",t.$message({type:"success",message:t.msg})),t.getList()})},passCurrency:function(e,t){var a=this;this.lockWithdrawalVo.id=e,this.lockWithdrawalVo.status=t,(0,i.passCurrency)(this.lockWithdrawalVo).then(function(e){e.result&&(a.msg="审核通过",a.$message({type:"success",message:a.msg})),a.getList()})},getList:function(){var e=this;this.listLoading=!0,(0,i.getCurrency)(this.currencyTrans).then(function(t){e.tableData=t.data.list,e.total=t.data.totalItems,e.coinList=t.data.coinList,e.coinList.unshift(e.allCoin),t.result||(e.msg=t.msg,e.$message({type:"warning",message:e.msg})),e.listLoading=!1})},exportData:function(){var e="api/admin/currencytrans/nofilter/export?type=2&keyword="+this.currencyTrans.keyword+"&introduceId="+this.currencyTrans.introduceId+"&status="+this.currencyTrans.status,t="";void 0===this.dateTime[0]||null===this.dateTime[0]?(this.currencyTrans.endTime="",this.currencyTrans.startTime="",t=e):t=e+"&startTime="+this.currencyTrans.startTime+"&endTime="+this.currencyTrans.endTime,location.href=t}},created:function(){this.getList()}}}});
//# sourceMappingURL=75.e02e34299a12b1cf061d.js.map