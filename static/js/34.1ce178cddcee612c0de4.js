webpackJsonp([34],{1026:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-20"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入用户ID、用户名、订单编号"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.conditionQuery(e)}},model:{value:t.currencyTrans.keyword,callback:function(e){t.currencyTrans.keyword=e},expression:"currencyTrans.keyword"}}),t._v(" "),a("span",[t._v("虚拟币类型")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:t.currencyTrans.virtualCoin,callback:function(e){t.currencyTrans.virtualCoin=e},expression:"currencyTrans.virtualCoin"}},t._l(t.AllcoinList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("span",[t._v("状态")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"全部类型"},model:{value:t.currencyTrans.entrustStatus,callback:function(e){t.currencyTrans.entrustStatus=e},expression:"currencyTrans.entrustStatus"}},t._l(t.entrustStatus,function(t){return a("el-option",{key:t.key,attrs:{label:t.display_name,value:t.key}})})),t._v(" "),a("span",[t._v("交易类型")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"全部类型"},model:{value:t.currencyTrans.entrustType,callback:function(e){t.currencyTrans.entrustType=e},expression:"currencyTrans.entrustType"}},t._l(t.entrustType,function(t){return a("el-option",{key:t.key,attrs:{label:t.display_name,value:t.key}})})),t._v(" "),a("span",{staticClass:"demonstration"},[t._v("创建时间")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择时间范围","range-separator":"/"},on:{change:t.conditionChange},model:{value:t.dateTime,callback:function(e){t.dateTime=e},expression:"dateTime"}}),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"30px"},attrs:{size:"small"},on:{click:t.conditionQuery}},[t._v("查询\n        ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[t._l(t.tableHeader,function(t){return a("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop,width:t.width,"min-width":t.minWidth,align:t.align,formatter:t.formatter,"show-overflow-tooltip":""}})}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.detailedInformation(e.row)}}},[t._v("\n                    详情\n                ")])]}}])})],2),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{staticStyle:{position:"absolute",right:"10px"},attrs:{"current-page":t.currencyTrans.page,"page-sizes":[15,30,45,60],"page-size":t.currencyTrans.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.userPageSize,"current-change":t.userPage}})],1),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("div",{staticStyle:{margin:"0 10px 10px 10px"}},[t._l(t.entrustType,function(e){return e.key===t.temp.entrustType?a("span",{staticStyle:{margin:"10px"}},[t._v("交易类型："+t._s(e.display_name))]):t._e()}),t._v(" "),t._l(t.AllcoinList,function(e){return e.id===t.temp.virtualCoinId?a("span",{staticStyle:{margin:"10px"}},[t._v("交易对："+t._s(e.name))]):t._e()}),t._v(" "),t._l(t.entrustStatus,function(e){return e.key===t.temp.entrustStatus?a("span",{staticStyle:{margin:"10px"}},[t._v("委托单状态："+t._s(e.display_name))]):t._e()})],2),t._v(" "),a("div",{staticStyle:{margin:"10px"}},[a("span",{staticStyle:{margin:"10px"}},[t._v("单价："+t._s(t.temp.entrustPrice))]),t._v(" "),a("span",{staticStyle:{margin:"10px"}},[t._v("数量："+t._s(t.temp.entrustNum))]),t._v(" "),a("span",{staticStyle:{margin:"10px"}},[t._v("成交数量："+t._s(t.temp.dealNum))]),t._v(" "),a("span",{staticStyle:{margin:"10px"}},[t._v("已成交金额："+t._s(t.temp.dealAmount))])]),t._v(" "),a("div",[a("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:t.gridData}},[a("el-table-column",{attrs:{property:"createTime",label:"交易时间",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"detailsNum",label:"成交数量",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{property:"detailsPrice",label:"成交单价",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{property:"detailsFee",label:"手续费",width:"178"}}),t._v(" "),a("el-table-column",{attrs:{property:"detailsAmount",label:"成交金额",width:"180"}})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.detailTrans.page,"page-sizes":[15,30,45,60],"page-size":t.detailTrans.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.detailsTotal},on:{"size-change":t.detailPageSize,"current-change":t.detailPage}})],1)],1)])],1)},i=[],r={render:n,staticRenderFns:i};e.a=r},173:function(t,e,a){"use strict";function n(t){a(944)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(800),r=a.n(i),l=a(1026),s=a(23),u=n,o=s(r.a,l.a,u,"data-v-734ebba0",null);e.default=o.exports},415:function(t,e,a){"use strict";function n(t){return(0,f.default)({url:"admin/receiptaccount/query",method:"post",data:t})}function i(t){return(0,f.default)({url:"admin/receiptaccount/"+t,method:"put"})}function r(t){return(0,f.default)({url:"admin/receiptaccount",method:"POST",data:t})}function l(t){return(0,f.default)({url:"admin/currencytrans",method:"GET",params:t})}function s(t){return(0,f.default)({url:"admin/currencytrans/nofilter/export",method:"GET",params:t})}function u(t){return(0,f.default)({url:"admin/entitywallet",method:"GET",params:t})}function o(t){return(0,f.default)({url:"admin/currencywallet",method:"GET",params:t})}function c(t){return(0,f.default)({url:"admin/entrustrans",method:"GET",params:t})}function p(t){return(0,f.default)({url:"admin/entrustdetails",method:"GET",params:t})}function d(){return(0,f.default)({url:"admin/trademappings",method:"GET"})}function m(t){return(0,f.default)({url:"/admin/exportCurrencywallet",method:"GET",params:t})}Object.defineProperty(e,"__esModule",{value:!0}),e.receiptAccount=n,e.receiptaccountNum=i,e.addAccount=r,e.currencytrans=l,e.educeExcel=s,e.entitywallet=u,e.currencywallet=o,e.entrustrans=c,e.entrustdetails=p,e.coinlist=d,e.exportData=m;var y=a(24),f=function(t){return t&&t.__esModule?t:{default:t}}(y)},800:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(415),i=a(11),r=function(t){return t&&t.__esModule?t:{default:t}}(i),l=[{key:0,display_name:"全部状态"},{key:4,display_name:"用户撤销"},{key:3,display_name:"完全成交"},{key:2,display_name:"部分成交"},{key:1,display_name:"未成交"}],s={id:"",name:"全部类型"},u=[{key:0,display_name:"全部类型"},{key:1,display_name:"买入"},{key:2,display_name:"卖出"}];e.default={data:function(){return{total:0,dateTime:"",allCoin:s,AllcoinList:[],detailsTotal:0,entrustType:u,gridData:[],entrustStatus:l,dialogTableVisible:!1,tableData:[],temp:{entrustPrice:"",virtualCoin:"",entrustNum:"",entrustStatus:"",dealAmount:"",dealNum:"",entrustType:""},currencyTrans:{keyword:"",entrustType:0,entrustStatus:0,startTime:"",endTime:"",virtualCoin:"",page:1,pageSize:15},detailTrans:{entrustTransSeq:"",page:1,pageSize:15},tableHeader:[{label:"FID",prop:"entrustTransSeq",align:"center",width:55},{label:"用户UID",prop:"userId",align:"center",width:55},{label:"登录名",prop:"signtype",width:120,align:"center",formatter:function(t,e,a){return 1===a?t.phoneNum:2===a?t.email:"未知"}},{label:"真实姓名",prop:"realName",align:"center",width:65},{label:"挂单类型",prop:"virtualCoinName",align:"center",width:60},{label:"交易类型",prop:"entrustType",width:80,align:"center",formatter:function(t,e,a){return 1===a?"买入":2===a?"卖出":"未知"}},{label:"状态",prop:"entrustStatus",width:80,align:"center",formatter:function(t,e,a){var n=r.default.utils.findDataByValue(l,a,"key");return n?n.display_name:""}},{label:"挂单总额",prop:"entrustAmount",align:"left",width:100},{label:"交易单价",prop:"entrustPrice",align:"left",width:80},{label:"挂单数量",prop:"entrustNum",align:"left",width:80},{label:"未成交数量",prop:"unsettledNum",align:"left",width:80},{label:"已成交数量",prop:"dealNum",align:"left",width:80},{label:"手续费(总)",prop:"fee",align:"left",width:80},{label:"成交总金额",prop:"dealAmount",align:"left",minWidth:80},{label:"创建时间",prop:"createTime",formatter:function(t,e,a){return r.default.utils.parseDateTimeStr(a)}},{label:"最后更新时间",prop:"updateTime",formatter:function(t,e,a){return r.default.utils.parseDateTimeStr(a)}}]}},computed:{tableDataLength:function(){return this.tableData.length}},methods:{userPage:function(t){this.currencyTrans.page=t,this.getList()},userPageSize:function(t){this.currencyTrans.pageSize=t,this.getList()},conditionQuery:function(){this.currencyTrans.page=1,this.getList()},detailPage:function(t){this.detailTrans.page=t,this.getDetailsList()},detailPageSize:function(t){this.detailTrans.pageSize=t,this.getDetailsList()},getList:function(){var t=this;console.log(this.currencyTrans),(0,n.entrustrans)(this.currencyTrans).then(function(e){t.total=e.data.total,t.tableData=e.data.list,t.total<=0&&(t.msg="未查询到此筛选数据",t.$message({type:"warning",message:t.msg}))})},conditionChange:function(t){console.log(t);var e=t.split("/");this.currencyTrans.startTime=e[0],this.currencyTrans.endTime=e[1]},detailedInformation:function(t){this.temp=t,this.detailTrans.page=1,this.detailTrans.entrustTransSeq=t.entrustTransSeq,console.log(this.detailTrans),this.dialogTableVisible=!0,this.getDetailsList()},getDetailsList:function(){var t=this;(0,n.entrustdetails)(this.detailTrans).then(function(e){t.gridData=e.data.list,t.detailsTotal=e.data.total,t.detailsTotal<=0&&(t.msg=e.msg,t.$message({type:"warning",message:t.msg}))})},getCoinList:function(){var t=this;(0,n.coinlist)().then(function(e){t.AllcoinList=e.data,t.AllcoinList.unshift(t.allCoin)})}},created:function(){this.getCoinList(),this.getList()}}},904:function(t,e,a){e=t.exports=a(152)(!0),e.push([t.i,".span[data-v-734ebba0]{width:300px;margin:10px}","",{version:3,sources:["C:/Users/XY-5-16-02/Desktop/dctp-admin-code/src/views/capital/entrustrans.vue"],names:[],mappings:"AACA,uBACE,YAAa,AACb,WAAa,CACd",file:"entrustrans.vue",sourcesContent:["\n.span[data-v-734ebba0] {\n  width: 300px;\n  margin: 10px;\n}\n"],sourceRoot:""}])},944:function(t,e,a){var n=a(904);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(153)("3d6002ca",n,!0)}});
//# sourceMappingURL=34.1ce178cddcee612c0de4.js.map