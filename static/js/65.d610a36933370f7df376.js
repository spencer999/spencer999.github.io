webpackJsonp([65],{1060:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-20"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入关键词"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.initData(e)}},model:{value:t.categoryQuery.queryStr,callback:function(e){t.categoryQuery.queryStr=e},expression:"categoryQuery.queryStr"}}),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"small"},on:{click:t.initData}},[t._v("查询")]),t._v(" "),t.permission.add?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.showAddDialog}},[t._v("新增")]):t._e()],1),t._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"110"}}),t._v(" "),t._l(t.tableHeader,function(t){return a("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop,width:t.width,"min-width":t.minWidth,align:t.align,formatter:t.formatter,"show-overflow-tooltip":""}})}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ul",{staticStyle:{"list-style":"none",padding:"0px"}},[a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.edit?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.getCategory(e.row.id)}}},[t._v("修改\n                        ")]):t._e()],1),t._v(" "),a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.delete?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showDeleteDialog(e.row.id)}}},[t._v("删除\n                        ")]):t._e()],1)])]}}])})],2),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.categoryQuery.pageNum,"page-sizes":[10,20,30,50],"page-size":t.categoryQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.userPageSize,"current-change":t.userPage}})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改限价信息",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.dialogClose}},[a("el-form",{ref:"data",attrs:{model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"*交易类型",prop:"tradeMappingId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.data.tradeMappingId,callback:function(e){t.data.tradeMappingId=e},expression:"data.tradeMappingId"}},t._l(t.mappingList,function(t){return a("el-option",{key:t.id,attrs:{label:t.baseName+"-"+t.tradeName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"*最低价格",prop:"lowestPrice"}},[a("el-input",{staticClass:"input-short",attrs:{"auto-complete":"off"},model:{value:t.data.lowestPrice,callback:function(e){t.data.lowestPrice=e},expression:"data.lowestPrice"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"*最高价格",prop:"highestPrice"}},[a("el-input",{staticClass:"input-short",attrs:{"auto-complete":"off"},model:{value:t.data.highestPrice,callback:function(e){t.data.highestPrice=e},expression:"data.highestPrice"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"*涨跌比例",prop:"ratio"}},[a("el-input",{staticClass:"input-short",attrs:{"auto-complete":"off"},model:{value:t.data.ratio,callback:function(e){t.data.ratio=e},expression:"data.ratio"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.validate}},[t._v("保 存")])],1)],1)],1)},r=[],n={render:i,staticRenderFns:r};e.a=n},237:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(863),r=a.n(i),n=a(1060),l=a(23),o=l(r.a,n.a,null,null,null);e.default=o.exports},297:function(t,e,a){"use strict";function i(t){return["admin","editor"].indexOf(t.trim())>=0}function r(t){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(t)}function n(t){return/^[a-z]+$/.test(t)}function l(t){return/^[A-Z]+$/.test(t)}function o(t){return/^[A-Za-z]{0,40}$/.test(t)}function s(t){return/^[\u4e00-\u9fa5]{0,10}$/.test(t)}function u(t){var e=new RegExp(/[\u4E00-\u9FA5]/,"g");return t.replace(e,"00").length}function d(t){return/^[A-Za-z0-9]+$/.test(t)}function c(t){return/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/.test(t)}function f(t){return/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5])$/.test(t)}function p(t){return/^[0-9]+(\.[0-9]{0,8})?$/.test(t)}function g(t){return/^[0-9]+(\.[0-9]{0,6})?$/.test(t)}function h(t){return/^[0-9]+(\.[0-9]{0,4})?$/.test(t)}function m(t){return/^[0-9]+(\.[0-9]{0,2})?$/.test(t)}function v(t){return/^(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9]))$/.test(t)}function b(t){return/^(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9]))$|^(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])),(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9]))$/.test(t)}function y(t){return/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))([# ])([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isvalidUsername=i,e.validateURL=r,e.validateLowerCase=n,e.validateUpperCase=l,e.validatAlphabets=o,e.validateChinese=s,e.characterSize=u,e.validatePassword=d,e.validateIP=c,e.validateIpPort=f,e.validateEightDecimal=p,e.validateSixDecimal=g,e.validateFourDecimal=h,e.validateTwoDecimal=m,e.validateTimeArea=v,e.validateTimeTwoArea=b,e.validateDateTime=y},863:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(!function(){var t=new Error('Cannot find module "babel-runtime/core-js/promise"');throw t.code="MODULE_NOT_FOUND",t}()),n=i(r),l=a(24),o=i(l),s=a(297);e.default={data:function(){var t=function(t,e,a){""===e&&a(new Error("不能为空")),a()},e=function(t,e,a){(""===e||!(0,s.validateEightDecimal)(e)||1*e>999999999||1*e<1e-8)&&a(new Error("请输入数值，最大值999999999，最小值0.00000001")),a()};return{itemWidth:"160px",dialogVisible:!1,data:{id:"",tradeMappingId:"",lowestPrice:"",highestPrice:"",ratio:""},action:"",rules:{tradeMappingId:[{validator:t,trigger:"blur"}],lowestPrice:[{validator:e,trigger:"blur"}],highestPrice:[{validator:e,trigger:"blur"}],ratio:[{validator:e,trigger:"blur"}]},categoryQuery:{queryStr:"",pageNum:1,pageSize:10},total:0,tableData:[],tableHeader:[{label:"法币名称",prop:"baseName",width:245},{label:"交易币名称",prop:"tradeName",width:245},{label:"最低价格",prop:"lowestPriceString",width:245},{label:"最高价格",prop:"highestPriceString",width:240},{label:"涨跌比例",prop:"ratio",width:360}],mappingList:[]}},created:function(){this.initData(),this.getMapping()},methods:{addCategory:function(){var t=this;return new n.default(function(e,a){(0,o.default)({url:"admin/trademaplimit",method:"post",data:t.data}).then(function(e){e.result&&(t.dialogVisible=!1,t.initData()),t.getMessage(e.msg,e.result)}).catch()})},showAddDialog:function(){this.dialogVisible=!0,this.action="add"},validate:function(){var t=this;this.$refs.data.validate(function(e){if(e)switch(t.action){case"add":t.addCategory();break;default:t.modify()}})},dialogClose:function(){this.resetData()},setData:function(t){var e=void 0;for(e in this.data)this.data[e]=null===t[e]?"":t[e]},resetData:function(){var t=void 0;this.$refs.data.resetFields();for(t in this.data)this.data[t]="";this.action=""},getList:function(){var t=this;return new n.default(function(e,a){(0,o.default)({url:"/admin/trademaplimit",method:"get",params:t.categoryQuery}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},getCategory:function(t){var e=this;return new n.default(function(a,i){(0,o.default)({url:"admin/trademaplimit/"+t,method:"get"}).then(function(t){t.result&&(e.setData(t.data),e.dialogVisible=!0)}).catch()})},deleteCategory:function(t){var e=this;return new n.default(function(a,i){(0,o.default)({url:"admin/trademaplimit/"+t,method:"delete"}).then(function(t){t.result&&e.initData(),e.getMessage(t.msg,t.result)}).catch()})},showDeleteDialog:function(t){var e=this;this.$confirm("确认删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteCategory(t)}).catch(function(){e.$message.info("操作取消")})},modify:function(){var t=this;return new n.default(function(e,a){(0,o.default)({url:"admin/trademaplimit",method:"put",data:t.data}).then(function(e){e.result&&(t.dialogVisible=!1,t.initData()),t.getMessage(e.msg,e.result)}).catch()})},query:function(){var t=this;return new n.default(function(e,a){(0,o.default)({url:"admin/trademaplimit/query",method:"get",params:t.categoryQuery}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},initData:function(){""===this.categoryQuery.queryStr?this.getList():this.query()},userPage:function(t){this.categoryQuery.pageNum=t,this.initData()},userPageSize:function(t){this.categoryQuery.pageSize=t,this.initData()},getMapping:function(){var t=this;return new n.default(function(e,a){(0,o.default)({url:"/admin/trademapping/1/query",method:"post",data:{page:{pageNum:1,pageSize:100}}}).then(function(e){e.result&&(t.mappingList=e.data.data)}).catch()})}}}}});
//# sourceMappingURL=65.d610a36933370f7df376.js.map