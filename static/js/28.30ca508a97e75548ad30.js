webpackJsonp([28],{1051:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-20"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("span",[t._v("提问人：")]),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入提问人"},model:{value:t.queryData.questionName,callback:function(e){t.queryData.questionName=e},expression:"queryData.questionName"}}),t._v(" "),a("span",[t._v("提问类型")]),t._v(" "),a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:"全部类型"},on:{change:function(e){t.queryData.categoryId=t.categoryId}},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.allListOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"small"},on:{click:t.initData}},[t._v("查询")])],1),t._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),t._l(t.tableHeader,function(t){return a("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop,width:t.width,"min-width":t.minWidth,align:t.align,formatter:t.formatter,"show-overflow-tooltip":""}})}),t._v(" "),a("el-table-column",{key:"status",attrs:{label:"状态",prop:"status",width:120,"min-width":120,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{colorRed:1==e.row.status,colorGreen:2===e.row.status}},[t._v("\n            "+t._s(1===e.row.status?"未解决":2===e.row.status?"已解决":"")+"\n            ")])]}}])}),t._v(" "),t._l(t.tableHeader2,function(t){return a("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop,width:t.width,"min-width":t.minWidth,align:t.align,formatter:t.formatter,"show-overflow-tooltip":""}})}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ul",{staticStyle:{"list-style":"none",padding:"0px"}},[1===e.row.status?a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.reply?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.getData(e.row.id)}}},[t._v("回复\n                        ")]):t._e()],1):t._e(),t._v(" "),2===e.row.status?a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.reply?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.getData(e.row.id)}}},[t._v("查看\n                        ")]):t._e()],1):t._e(),t._v(" "),a("li",{staticStyle:{float:"left",width:"30px"}},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.deleteData(e.row.id)}}},[t._v("删除\n                        ")])],1)])]}}])})],2),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.queryData.pageNum,"page-sizes":[10,20,30,50],"page-size":t.queryData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.userPageSize,"current-change":t.userPage}})],1),t._v(" "),a("el-dialog",{attrs:{title:"查看",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.dialogClose}},[a("el-form",{ref:"data",attrs:{model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"提问人",prop:"userName"}},[a("el-input",{staticClass:"input-short",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.data.userName,callback:function(e){t.data.userName=e},expression:"data.userName"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"提问类型",prop:"categoryName"}},[a("el-input",{staticClass:"input-short",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.data.categoryName,callback:function(e){t.data.categoryName=e},expression:"data.categoryName"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"提问内容",prop:"questionDesc"}},[a("el-input",{staticClass:"input-short",attrs:{rows:10,type:"textarea",disabled:!0,"auto-complete":"off"},model:{value:t.data.questionDesc,callback:function(e){t.data.questionDesc=e},expression:"data.questionDesc"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"回复内容",prop:"answerDesc"}},[a("el-input",{staticClass:"input-short",attrs:{rows:10,type:"textarea","auto-complete":"off"},model:{value:t.data.answerDesc,callback:function(e){t.data.answerDesc=e},expression:"data.answerDesc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.validate}},[t._v("保 存")])],1)],1)],1)},l=[],n={render:i,staticRenderFns:l};e.a=n},220:function(t,e,a){"use strict";function i(t){a(954)}Object.defineProperty(e,"__esModule",{value:!0});var l=a(846),n=a.n(l),o=a(1051),r=a(23),s=i,u=r(n.a,o.a,s,null,null);e.default=u.exports},712:function(t,e,a){"use strict";function i(t){return(0,d.default)({url:"/admin/systemcategory",method:"get",params:t})}function l(t){return(0,d.default)({url:"/admin/helpdoc",method:"post",data:t})}function n(t){return(0,d.default)({url:"/admin/helpdoc/page",method:"post",data:t})}function o(t){return(0,d.default)({url:"/admin/helpdoc/"+t,method:"get"})}function r(t){return(0,d.default)({url:"/admin/helpdoc",method:"put",data:t})}function s(t){return(0,d.default)({url:"/admin/helpdoc/"+t,method:"delete"})}function u(t,e,a){return(0,d.default)({url:"/admin/helpdoc/"+t+"/"+e+"/"+a,method:"put"})}Object.defineProperty(e,"__esModule",{value:!0}),e.userSearch=i,e.submitform=l,e.getarticleall=n,e.fetchArticle=o,e.submitalter=r,e.deletearticles=s,e.enabledisable=u;var c=a(24),d=function(t){return t&&t.__esModule?t:{default:t}}(c)},846:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a(!function(){var t=new Error('Cannot find module "babel-runtime/core-js/promise"');throw t.code="MODULE_NOT_FOUND",t}()),n=i(l),o=a(24),r=i(o),s=a(11),u=i(s),c=a(712);e.default={data:function(){return{categoryId:"",allListOptions:[],itemWidth:"160px",dialogVisible:!1,data:{id:"",userName:"",categoryName:"",questionDesc:"",answerDesc:""},action:"",rules:{answerDesc:[{validator:function(t,e,a){""===e&&a(new Error("不能为空")),a()},trigger:"blur"}]},queryData:{categoryId:0,questionName:"",pageNum:1,pageSize:10,status:"0"},total:0,tableData:[],tableHeader:[{label:"提问人UID",prop:"userId",width:120},{label:"提问人姓名",prop:"userName",width:120},{label:"提问人手机号码",prop:"userPhone",width:180}],tableHeader2:[{label:"提问类型",prop:"categoryName",width:120},{label:"提问内容",prop:"questionDesc",width:300},{label:"回复内容",prop:"answerDesc",width:300},{label:"回复管理员",prop:"replyName",width:120},{label:"创建时间",prop:"createTime",width:240,formatter:function(t,e,a){return u.default.utils.parseDateTimeStr(a)}},{label:"回复时间",prop:"updateTime",width:240,formatter:function(t,e,a){return u.default.utils.parseDateTimeStr(a)}}]}},created:function(){this.getRemoteUserList(),this.initData()},methods:{getRemoteUserList:function(){var t=this;(0,c.userSearch)({type:3,pageNum:1,pageSize:1e4}).then(function(e){t.allListOptions=e.data.data,e.result||t.$message({type:"warning",message:t.msg})})},validate:function(){var t=this;this.$refs.data.validate(function(e){e&&(t.action,t.modify())})},dialogClose:function(){this.resetData()},setData:function(t){var e=void 0;for(e in this.data)this.data[e]=null===t[e]?"":t[e]},resetData:function(){var t=void 0;for(t in this.data)switch(t){case"type":this.data[t]="2";break;default:this.data[t]=""}this.$refs.data.resetFields(),this.action=""},getList:function(){var t=this;return new n.default(function(e,a){(0,r.default)({url:"admin/questionanswer",method:"get",params:t.queryData}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},getData:function(t){var e=this;return new n.default(function(a,i){(0,r.default)({url:"admin/questionanswer/"+t,method:"get"}).then(function(t){t.result&&(e.setData(t.data),e.dialogVisible=!0)}).catch()})},deleteCategory:function(t){var e=this;return new n.default(function(a,i){(0,r.default)({url:"admin/systemcategory/"+t,method:"delete"}).then(function(t){t.result&&e.initData(),e.getMessage(t.msg,t.result)}).catch()})},showDeleteDialog:function(t){var e=this;this.$confirm("确认删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteCategory(t)}).catch(function(){e.$message.info("操作取消")})},modify:function(){var t=this;return new n.default(function(e,a){(0,r.default)({url:"admin/questionanswer",method:"put",data:t.data}).then(function(e){e.result&&(t.dialogVisible=!1,t.initData()),t.getMessage(e.msg,e.result)}).catch()})},query:function(){var t=this;return new n.default(function(e,a){(0,r.default)({url:"admin/questionanswer/query",method:"get",params:t.queryData}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},deleteData:function(t){var e=this;return new n.default(function(a,i){(0,r.default)({url:"admin/deleteQuestion/"+t,method:"delete"}).then(function(t){t.result&&e.initData(),e.getMessage(t.msg,t.result)}).catch()})},initData:function(){""===this.queryData.questionName?this.getList():this.query()},userPage:function(t){this.queryData.pageNum=t,this.initData()},userPageSize:function(t){this.queryData.pageSize=t,this.initData()}}}},914:function(t,e,a){e=t.exports=a(152)(!0),e.push([t.i,".colorRed{color:red}.colorBlue{color:blue}.colorGreen{color:green}","",{version:3,sources:["C:/Users/XY-5-16-02/Desktop/dctp-admin-code/src/views/question/questionRecord.vue"],names:[],mappings:"AACA,UACE,SAAW,CACZ,AACD,WACE,UAAY,CACb,AACD,YACE,WAAa,CACd",file:"questionRecord.vue",sourcesContent:["\n.colorRed{\n  color: red;\n}\n.colorBlue{\n  color: blue;\n}\n.colorGreen{\n  color: green;\n}\n"],sourceRoot:""}])},954:function(t,e,a){var i=a(914);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(153)("27ec9eac",i,!0)}});
//# sourceMappingURL=28.30ca508a97e75548ad30.js.map