webpackJsonp([85],{1001:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-20"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("span",[t._v("提问人：")]),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入提问人"},model:{value:t.queryData.questionName,callback:function(e){t.queryData.questionName=e},expression:"queryData.questionName"}}),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"small"},on:{click:t.initData}},[t._v("查询")])],1),t._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),t._l(t.tableHeader,function(t){return a("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop,width:t.width,"min-width":t.minWidth,align:t.align,formatter:t.formatter,"show-overflow-tooltip":""}})}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ul",{staticStyle:{"list-style":"none",padding:"0px"}},[1===e.row.status?a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.reply?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.getData(e.row.id)}}},[t._v("回复\n                        ")]):t._e()],1):t._e(),t._v(" "),2===e.row.status?a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.reply?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.getData(e.row.id)}}},[t._v("查看\n                        ")]):t._e()],1):t._e()])]}}])})],2),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.queryData.pageNum,"page-sizes":[10,20,30,50],"page-size":t.queryData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.userPageSize,"current-change":t.userPage}})],1),t._v(" "),a("el-dialog",{attrs:{title:"查看",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.dialogClose}},[a("el-form",{ref:"data",attrs:{model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"提问人",prop:"userName"}},[a("el-input",{staticClass:"input-short",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.data.userName,callback:function(e){t.data.userName=e},expression:"data.userName"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"提问类型",prop:"categoryName"}},[a("el-input",{staticClass:"input-short",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.data.categoryName,callback:function(e){t.data.categoryName=e},expression:"data.categoryName"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"提问内容",prop:"questionDesc"}},[a("el-input",{staticClass:"input-short",attrs:{rows:10,type:"textarea",disabled:!0,"auto-complete":"off"},model:{value:t.data.questionDesc,callback:function(e){t.data.questionDesc=e},expression:"data.questionDesc"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"回复内容",prop:"answerDesc"}},[a("el-input",{staticClass:"input-short",attrs:{rows:10,type:"textarea","auto-complete":"off"},model:{value:t.data.answerDesc,callback:function(e){t.data.answerDesc=e},expression:"data.answerDesc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.validate}},[t._v("保 存")])],1)],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},219:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(845),l=a.n(i),s=a(1001),n=a(23),r=n(l.a,s.a,null,null,null);e.default=r.exports},845:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a(!function(){var t=new Error('Cannot find module "babel-runtime/core-js/promise"');throw t.code="MODULE_NOT_FOUND",t}()),s=i(l),n=a(24),r=i(n),o=a(11),u=i(o);e.default={data:function(){return{itemWidth:"160px",dialogVisible:!1,data:{id:"",userName:"",categoryName:"",questionDesc:"",answerDesc:""},action:"",rules:{answerDesc:[{validator:function(t,e,a){""===e&&a(new Error("不能为空")),a()},trigger:"blur"}]},queryData:{categoryId:0,questionName:"",pageNum:1,pageSize:10,status:"1"},total:0,tableData:[],tableHeader:[{label:"提问人UID",prop:"userId",width:120},{label:"提问人姓名",prop:"userName",width:120},{label:"提问人手机号码",prop:"userPhone",width:180},{label:"状态",prop:"status",width:120,formatter:function(t,e,a){return 1===a?"未解决":2===a?"已解决":""}},{label:"提问类型",prop:"categoryName",width:120},{label:"提问内容",prop:"questionDesc",width:300},{label:"回复内容",prop:"answerDesc",width:300},{label:"回复管理员",prop:"replyName",width:120},{label:"创建时间",prop:"createTime",width:240,formatter:function(t,e,a){return u.default.utils.parseDateTimeStr(a)}},{label:"回复时间",prop:"updateTime",width:240,formatter:function(t,e,a){return u.default.utils.parseDateTimeStr(a)}}]}},created:function(){this.initData()},methods:{validate:function(){var t=this;this.$refs.data.validate(function(e){e&&(t.action,t.modify())})},dialogClose:function(){this.resetData()},setData:function(t){var e=void 0;for(e in this.data)this.data[e]=null===t[e]?"":t[e]},resetData:function(){var t=void 0;for(t in this.data)switch(t){case"type":this.data[t]="2";break;default:this.data[t]=""}this.$refs.data.resetFields(),this.action=""},getList:function(){var t=this;return new s.default(function(e,a){(0,r.default)({url:"admin/questionanswer",method:"get",params:t.queryData}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},getData:function(t){var e=this;return new s.default(function(a,i){(0,r.default)({url:"admin/questionanswer/"+t,method:"get"}).then(function(t){t.result&&(e.setData(t.data),e.dialogVisible=!0)}).catch()})},deleteCategory:function(t){var e=this;return new s.default(function(a,i){(0,r.default)({url:"admin/systemcategory/"+t,method:"delete"}).then(function(t){t.result&&e.initData(),e.getMessage(t.msg,t.result)}).catch()})},showDeleteDialog:function(t){var e=this;this.$confirm("确认删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteCategory(t)}).catch(function(){e.$message.info("操作取消")})},modify:function(){var t=this;return new s.default(function(e,a){(0,r.default)({url:"admin/questionanswer",method:"put",data:t.data}).then(function(e){e.result&&(t.dialogVisible=!1,t.initData()),t.getMessage(e.msg,e.result)}).catch()})},query:function(){var t=this;return new s.default(function(e,a){(0,r.default)({url:"admin/questionanswer/query",method:"get",params:t.queryData}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},initData:function(){""===this.queryData.questionName?this.getList():this.query()},userPage:function(t){this.queryData.pageNum=t,this.initData()},userPageSize:function(t){this.queryData.pageSize=t,this.initData()}}}}});
//# sourceMappingURL=85.6337de0bf5d28aadc368.js.map