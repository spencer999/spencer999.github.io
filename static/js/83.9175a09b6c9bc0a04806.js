webpackJsonp([83],{1050:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-20"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入名称、关键词、描述"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.initData(e)}},model:{value:t.categoryQuery.queryStr,callback:function(e){t.categoryQuery.queryStr=e},expression:"categoryQuery.queryStr"}}),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"small"},on:{click:t.initData}},[t._v("查询")]),t._v(" "),t.permission.add?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.showAddDialog}},[t._v("新增")]):t._e()],1),t._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),t._l(t.tableHeader,function(t){return a("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop,width:t.width,"min-width":t.minWidth,align:t.align,formatter:t.formatter,"show-overflow-tooltip":""}})}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ul",{staticStyle:{"list-style":"none",padding:"0px"}},[a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.edit?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.getCategory(e.row.id)}}},[t._v("修改\n                        ")]):t._e()],1),t._v(" "),a("li",{staticStyle:{float:"left",width:"30px"}},[t.permission.delete?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showDeleteDialog(e.row.id)}}},[t._v("删除\n                        ")]):t._e()],1)])]}}])})],2),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.categoryQuery.pageNum,"page-sizes":[10,20,30,50],"page-size":t.categoryQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.userPageSize,"current-change":t.userPage}})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改文章类型信息",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.dialogClose}},[a("el-form",{ref:"categoryData",attrs:{model:t.categoryData,rules:t.rules}},[a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"*类型名称",prop:"name"}},[a("el-input",{staticClass:"input-short",attrs:{"auto-complete":"off"},model:{value:t.categoryData.name,callback:function(e){t.categoryData.name=e},expression:"categoryData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"关键词",prop:"keyWord"}},[a("el-input",{staticClass:"input-short",attrs:{type:"textarea","auto-complete":"off"},model:{value:t.categoryData.keyWord,callback:function(e){t.categoryData.keyWord=e},expression:"categoryData.keyWord"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"描述",prop:"description"}},[a("el-input",{staticClass:"input-short",attrs:{type:"textarea","auto-complete":"off"},model:{value:t.categoryData.description,callback:function(e){t.categoryData.description=e},expression:"categoryData.description"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"*类型名称-英文",prop:"nameEn"}},[a("el-input",{staticClass:"input-short",attrs:{"auto-complete":"off"},model:{value:t.categoryData.nameEn,callback:function(e){t.categoryData.nameEn=e},expression:"categoryData.nameEn"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"关键词-英文",prop:"keyWordEn"}},[a("el-input",{staticClass:"input-short",attrs:{type:"textarea","auto-complete":"off"},model:{value:t.categoryData.keyWordEn,callback:function(e){t.categoryData.keyWordEn=e},expression:"categoryData.keyWordEn"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.itemWidth,label:"描述-英文",prop:"descriptionEn"}},[a("el-input",{staticClass:"input-short",attrs:{type:"textarea","auto-complete":"off"},model:{value:t.categoryData.descriptionEn,callback:function(e){t.categoryData.descriptionEn=e},expression:"categoryData.descriptionEn"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.validate}},[t._v("保 存")])],1)],1)],1)},o=[],r={render:i,staticRenderFns:o};e.a=r},231:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(857),o=a.n(i),r=a(1050),n=a(23),l=n(o.a,r.a,null,null,null);e.default=l.exports},857:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(!function(){var t=new Error('Cannot find module "babel-runtime/core-js/promise"');throw t.code="MODULE_NOT_FOUND",t}()),r=i(o),n=a(24),l=i(n);e.default={data:function(){var t=function(t,e,a){""===e&&a(new Error("不能为空")),a()};return{itemWidth:"160px",dialogVisible:!1,categoryData:{id:"",name:"",keyWord:"",description:"",nameEn:"",keyWordEn:"",descriptionEn:"",type:"1"},action:"",rules:{name:[{validator:t,trigger:"blur"}],nameEn:[{validator:t,trigger:"blur"}]},categoryQuery:{queryStr:"",pageNum:1,pageSize:10,type:"1"},total:0,tableData:[],tableHeader:[{label:"类型名称",prop:"name",width:200},{label:"关键词",prop:"keyWord",width:300},{label:"描述",prop:"description",width:300},{label:"类型名称-英文",prop:"nameEn",width:200},{label:"关键词-英文",prop:"keyWordEn",width:200},{label:"描述-英文",prop:"descriptionEn",width:200}]}},created:function(){this.initData()},methods:{addCategory:function(){var t=this;return new r.default(function(e,a){(0,l.default)({url:"admin/systemcategory",method:"post",data:t.categoryData}).then(function(e){e.result&&(t.dialogVisible=!1,t.initData()),t.getMessage(e.msg,e.result)}).catch()})},showAddDialog:function(){this.dialogVisible=!0,this.action="add"},validate:function(){var t=this;this.$refs.categoryData.validate(function(e){if(e)switch(t.action){case"add":t.addCategory();break;default:t.modify()}})},dialogClose:function(){this.resetData()},setData:function(t){var e=void 0;for(e in this.categoryData)this.categoryData[e]=null===t[e]?"":t[e]},resetData:function(){var t=void 0;this.$refs.categoryData.resetFields();for(t in this.categoryData)switch(t){case"type":this.categoryData[t]="1";break;default:this.categoryData[t]=""}this.action=""},getList:function(){var t=this;return new r.default(function(e,a){(0,l.default)({url:"/admin/systemcategory",method:"get",params:t.categoryQuery}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},getCategory:function(t){var e=this;return new r.default(function(a,i){(0,l.default)({url:"admin/systemcategory/"+t,method:"get"}).then(function(t){t.result&&(e.setData(t.data),e.dialogVisible=!0)}).catch()})},deleteCategory:function(t){var e=this;return new r.default(function(a,i){(0,l.default)({url:"admin/systemcategory/"+t,method:"delete"}).then(function(t){t.result&&e.initData(),e.getMessage(t.msg,t.result)}).catch()})},showDeleteDialog:function(t){var e=this;this.$confirm("确认删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteCategory(t)}).catch(function(){e.$message.info("操作取消")})},modify:function(){var t=this;return new r.default(function(e,a){(0,l.default)({url:"admin/systemcategory",method:"put",data:t.categoryData}).then(function(e){e.result&&(t.dialogVisible=!1,t.initData()),t.getMessage(e.msg,e.result)}).catch()})},query:function(){var t=this;return new r.default(function(e,a){(0,l.default)({url:"admin/systemcategory/query",method:"get",params:t.categoryQuery}).then(function(e){e.result&&(t.tableData=e.data.data,t.total=e.data.page.count)}).catch()})},initData:function(){""===this.categoryQuery.queryStr?this.getList():this.query()},userPage:function(t){this.categoryQuery.pageNum=t,this.initData()},userPageSize:function(t){this.categoryQuery.pageSize=t,this.initData()}}}}});
//# sourceMappingURL=83.9175a09b6c9bc0a04806.js.map