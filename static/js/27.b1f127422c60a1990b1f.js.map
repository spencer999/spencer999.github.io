{"version":3,"sources":["webpack:///static/js/27.b1f127422c60a1990b1f.js","webpack:///./src/views/system/menu.vue?4a1a","webpack:///./src/views/system/menu.vue","webpack:///src/views/system/menu.vue","webpack:///./src/utils/resource.js","webpack:///./src/views/system/menu.vue?a9e7","webpack:///./src/views/system/menu.vue?2311"],"names":["webpackJsonp","1046","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","span","ref","data","menu","default-expand-all","node-key","highlight-current","expand-on-click-node","current-node-key","currentId","props","defaultProps","on","node-click","viewMenu","_v","_l","item","class","is-active","activeIndex","index","click","$event","stopPropagation","changeTab","_s","label","permission","staticStyle","margin-right","margin-top","size","confirmDelete","_e","width","gutter","placeholder","readonly","isView","model","value","callback","$$v","name","trim","expression","directives","rawName","parentMenuName","disabled","parentId","key","id","margin-left","style","padding-left","left","children","priority","url","sign","description","checked","permissionVoList","type","saveMenu","staticRenderFns","esExports","232","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_menu_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_menu_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_9ce994fa_hasScoped_true_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_menu_vue__","normalizeComponent","__vue_styles__","Component","a","858","exports","_interopRequireDefault","obj","__esModule","default","_promise","e","Error","code","_promise2","_fetch","_fetch2","_resource","_resource2","_dctp","_dctp2","resource","tabs","parentMenuOptions","computed","length","utils","findDataByValue","methods","_this","validate","getVoList","method","resolve","reject","then","response","result","getMenu","assistModel","assign","resetModel","getMessage","msg","$store","commit","setParentMenu","menus","len","i","fillParentMenu","level","push","forEach","parseVoList","items","one","setModel","isArray","$message","error","deleteMenu","setTabs","show","view","edit","add","_this2","warning","$confirm","confirmButtonText","cancelButtonText","catch","created","state","permission_menu","concat","877","912","version","sources","names","mappings","file","sourcesContent","sourceRoot","952","content","locals"],"mappings":"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","file":"static/js/27.b1f127422c60a1990b1f.js","sourcesContent":["webpackJsonp([27],{\n\n/***/ 1046:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"system-menu\"\n  }, [_c('el-row', {\n    staticClass: \"height100\"\n  }, [_c('el-col', {\n    staticClass: \"left-side relative height100\",\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('div', {\n    staticClass: \"system-menu-list\"\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.menu,\n      \"default-expand-all\": \"\",\n      \"node-key\": \"id\",\n      \"highlight-current\": \"\",\n      \"expand-on-click-node\": false,\n      \"current-node-key\": _vm.currentId,\n      \"props\": _vm.defaultProps\n    },\n    on: {\n      \"node-click\": _vm.viewMenu\n    }\n  })], 1)]), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"system-menu-content\",\n    attrs: {\n      \"span\": 19\n    }\n  }, [_c('div', {\n    staticClass: \"el-tabs__header\"\n  }, [_c('div', {\n    staticClass: \"el-tabs__nav-wrap\"\n  }, [_c('div', {\n    staticClass: \"el-tabs__nav-scroll\"\n  }, [_c('div', {\n    staticClass: \"el-tabs__nav\"\n  }, _vm._l((_vm.tabs), function(item) {\n    return _c('div', {\n      staticClass: \"el-tabs__item\",\n      class: {\n        'is-active': _vm.activeIndex === item.index\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.changeTab(item.index)\n        }\n      }\n    }, [_vm._v(_vm._s(item.label))])\n  })), _vm._v(\" \"), (_vm.permission.delete) ? _c('div', {\n    staticClass: \"fr\",\n    staticStyle: {\n      \"margin-right\": \"20px\",\n      \"margin-top\": \"7px\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.confirmDelete($event)\n      }\n    }\n  }, [_vm._v(\"删除\")])], 1) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"90%\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"菜单名称\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"必填项\",\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.name),\n      callback: function($$v) {\n        _vm.model.name = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"父级菜单\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isView),\n      expression: \"isView\"\n    }],\n    attrs: {\n      \"readonly\": \"\"\n    },\n    model: {\n      value: (_vm.parentMenuName),\n      callback: function($$v) {\n        _vm.parentMenuName = $$v\n      },\n      expression: \"parentMenuName\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isView),\n      expression: \"!isView\"\n    }]\n  }, [_c('el-select', {\n    staticClass: \"dis-block\",\n    attrs: {\n      \"disabled\": _vm.activeIndex !== 1\n    },\n    model: {\n      value: (_vm.model.parentId),\n      callback: function($$v) {\n        _vm.model.parentId = $$v\n      },\n      expression: \"model.parentId\"\n    }\n  }, _vm._l((_vm.parentMenuOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"margin-left\": \"-10px\"\n      },\n      style: ({\n        'padding-left': item.left + 'px'\n      })\n    }, [_c('span', {\n      staticClass: \"el-tree-node__expand-icon\",\n      class: item.children ? 'expanded' : 'is-leaf'\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"el-tree-node__label\"\n    }, [_vm._v(_vm._s(item.label))])])])\n  }))], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"优先级\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.priority),\n      callback: function($$v) {\n        _vm.model.priority = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.priority\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"链接地址\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView,\n      \"placeholder\": \"必填项\"\n    },\n    model: {\n      value: (_vm.model.url),\n      callback: function($$v) {\n        _vm.model.url = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.url\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"菜单标识\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.sign),\n      callback: function($$v) {\n        _vm.model.sign = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.sign\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3,\n      \"readonly\": _vm.isView\n    }\n  }, [_vm._v(\"备注\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.description),\n      callback: function($$v) {\n        _vm.model.description = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.description\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"form-label\",\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('el-col', {\n    staticClass: \"text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"资源权限\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 21\n    }\n  }, [(_vm.isView) ? _vm._l((_vm.model.permissionVoList), function(item) {\n    return _c('el-checkbox', {\n      key: item.sign,\n      attrs: {\n        \"disabled\": true,\n        \"checked\": true\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }) : [_c('el-checkbox-group', {\n    model: {\n      value: (_vm.permissionVoList),\n      callback: function($$v) {\n        _vm.permissionVoList = $$v\n      },\n      expression: \"permissionVoList\"\n    }\n  }, _vm._l((_vm.resource), function(item, index) {\n    return _c('el-checkbox', {\n      key: item.sign,\n      attrs: {\n        \"label\": item.sign,\n        \"disabled\": item.sign === 'view'\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }))]], 2)], 1), _vm._v(\" \"), _c('el-row', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.activeIndex !== 0),\n      expression: \"activeIndex !== 0\"\n    }]\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\" \")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 21\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.saveMenu($event)\n      }\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)], 1)])], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 232:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_menu_vue__ = __webpack_require__(858);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_menu_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_menu_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_9ce994fa_hasScoped_true_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_menu_vue__ = __webpack_require__(1046);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(952)\n}\nvar normalizeComponent = __webpack_require__(23)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9ce994fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_menu_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_9ce994fa_hasScoped_true_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_menu_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 858:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _promise = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"babel-runtime/core-js/promise\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _fetch = __webpack_require__(24);\n\nvar _fetch2 = _interopRequireDefault(_fetch);\n\nvar _resource = __webpack_require__(877);\n\nvar _resource2 = _interopRequireDefault(_resource);\n\nvar _dctp = __webpack_require__(11);\n\nvar _dctp2 = _interopRequireDefault(_dctp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    data: function data() {\n        return {\n            menu: [],\n            defaultProps: {\n                children: 'children',\n                label: 'name'\n            },\n            currentId: '',\n            resource: _resource2.default,\n            model: {\n                id: '',\n                name: '',\n                sign: '',\n                description: '',\n                priority: 0,\n                url: '',\n                parentId: '',\n                permissionVoList: [_resource2.default[0]]\n            },\n            permissionVoList: [],\n            tabs: [],\n            parentMenuOptions: '',\n            activeIndex: 0\n        };\n    },\n\n    computed: {\n        isView: function isView() {\n            return this.activeIndex === 0;\n        },\n        parentMenuName: function parentMenuName() {\n            var name = '';\n            if (this.parentMenuOptions && this.parentMenuOptions.length && this.model.parentId) {\n                name = _dctp2.default.utils.findDataByValue(this.parentMenuOptions, this.model.parentId, 'value');\n                name = name ? name.label : '';\n            }\n\n            return name;\n        }\n    },\n    methods: {\n        saveMenu: function saveMenu() {\n            var _this = this;\n\n            if (this.validate()) {\n                var data = void 0;\n                this.model.permissionVoList = this.getVoList();\n                if (this.model.id) {\n                    data = {\n                        url: 'admin/module/' + _this.currentId,\n                        method: 'put',\n                        data: this.model\n                    };\n                } else {\n                    data = {\n                        url: 'admin/module',\n                        method: 'post',\n                        data: _this.model\n                    };\n                }\n\n                return new _promise2.default(function (resolve, reject) {\n                    (0, _fetch2.default)(data).then(function (response) {\n                        if (response.result) {\n                            _this.getMenu();\n                            _this.assistModel = _dctp2.default.utils.assign({}, _this.model);\n                            _this.activeIndex !== 1 && _this.resetModel();\n                        }\n                        _this.getMessage(response.msg, response.result);\n                    });\n                });\n            }\n        },\n        getMenu: function getMenu() {\n            var _this = this;\n            return new _promise2.default(function (resolve, reject) {\n                (0, _fetch2.default)({\n                    url: 'admin/module/tree',\n                    method: 'get'\n                }).then(function (response) {\n                    if (response.result) {\n                        if (response.data) {\n                            _this.menu = [response.data];\n                            _this.$store.commit('SET_PERMISSION_MENU', [response.data]);\n                            _this.setParentMenu();\n                            if (!_this.currentId) {\n                                _this.viewMenu(response.data);\n                            }\n                        }\n                    }\n                });\n            });\n        },\n        setParentMenu: function setParentMenu() {\n            var menus = [];\n            var len = this.menu && this.menu.length || 0;\n            var i = void 0;\n\n            for (i = 0; i < len; i++) {\n                this.fillParentMenu(menus, this.menu[i], 0);\n            }\n\n            this.parentMenuOptions = menus;\n        },\n        fillParentMenu: function fillParentMenu(menus, data, level) {\n            var _this = this;\n\n            if (data) {\n                menus.push({\n                    label: data.name,\n                    value: data.id,\n                    left: level * 16,\n                    children: data.children && data.children.length\n                });\n\n                level++;\n                data.children && data.children.forEach(function (item, index) {\n                    if (item.children && item.children.length) {\n                        _this.fillParentMenu(menus, item, level);\n                    } else {\n                        menus.push({\n                            label: item.name,\n                            value: item.id,\n                            left: level * 16,\n                            children: 0\n                        });\n                    }\n                });\n            }\n        },\n        parseVoList: function parseVoList(data) {\n            var items = [];\n\n            data && data.forEach(function (item) {\n                items.push(item.sign);\n            });\n\n            return items;\n        },\n        getVoList: function getVoList() {\n            var _this = this;\n            var items = [];\n\n            this.permissionVoList && this.permissionVoList.forEach(function (item) {\n                var one = _dctp2.default.utils.findDataByValue(_this.resource, item, 'sign');\n\n                if (one) {\n                    items.push(one);\n                }\n            });\n\n            return items;\n        },\n        changeTab: function changeTab(index) {\n            this.activeIndex = index;\n            if (index === 2 || index === 3) {\n                this.resetModel();\n                if (this.assistModel) {\n                    if (index === 2) {\n                        if (this.assistModel.parentId) {\n                            this.model.parentId = this.assistModel.parentId;\n                        }\n                    } else {\n                        this.model.parentId = this.assistModel.id;\n                    }\n                }\n            } else {\n                this.assistModel && this.setModel(this.assistModel);\n            }\n        },\n\n        // 查看单个菜单\n        viewMenu: function viewMenu(data) {\n            this.currentId = data.id;\n            this.setModel(data);\n        },\n        resetModel: function resetModel() {\n            var key = void 0;\n\n            for (key in this.model) {\n                switch (key) {\n                    case 'priority':\n                        this.model[key] = 0;break;\n                    case 'permissionVoList':\n                        this.model[key] = ['view'];break;\n                    default:\n                        this.model[key] = '';\n                }\n            }\n\n            this.permissionVoList = ['view'];\n        },\n        setModel: function setModel(data) {\n            var key = void 0;\n\n            if (data.permissionVoList && _dctp2.default.utils.isArray(data.permissionVoList)) {\n                this.permissionVoList = this.parseVoList(data.permissionVoList);\n            }\n            this.assistModel = _dctp2.default.utils.assign({}, data);\n            if (this.activeIndex === 0 || this.activeIndex === 1) {\n                for (key in this.model) {\n                    this.model[key] = data[key];\n                }\n            } else if (this.activeIndex === 2) {\n                if (this.assistModel && this.assistModel.parentId) {\n                    this.model.parentId = this.assistModel.parentId;\n                } else {\n                    this.model.parentId = '';\n                }\n            } else {\n                this.model.parentId = this.assistModel && this.assistModel.id || '';\n            }\n        },\n        validate: function validate() {\n            if (!this.model.name) {\n                this.$message.error('请输入菜单名称');\n                return false;\n            }\n            if (!this.model.url) {\n                this.$message.error('请输入菜单链接地址');\n                return false;\n            }\n            if (!this.permissionVoList.length) {\n                this.$message.error('请选择资源权限');\n                return false;\n            }\n            return true;\n        },\n        deleteMenu: function deleteMenu() {\n            var _this = this;\n            return new _promise2.default(function (resolve, reject) {\n                (0, _fetch2.default)({\n                    url: 'admin/module/' + _this.currentId,\n                    method: 'delete',\n                    data: ''\n                }).then(function (response) {\n                    if (response.result) {\n                        _this.getMenu();\n                        _this.resetModel();\n                        _this.assistModel = null;\n                        _this.currentId = '';\n                    }\n                    _this.getMessage(response.msg, response.result);\n                });\n            });\n        },\n        setTabs: function setTabs() {\n            this.tabs = [{\n                label: '查看',\n                index: 0,\n                show: this.permission.view\n            }, {\n                label: '修改',\n                index: 1,\n                show: this.permission.edit\n            }, {\n                label: '新增同级',\n                index: 2,\n                show: this.permission.add\n            }, {\n                label: '新增下级',\n                index: 3,\n                show: this.permission.add\n            }];\n        },\n        confirmDelete: function confirmDelete() {\n            var _this2 = this;\n\n            if (this.currentId === '') {\n                this.$message.warning('请先选择一个菜单再进行删除操作');\n                return;\n            }\n            this.$confirm('确定要删除该菜单？', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                _this2.deleteMenu();\n            }).catch(function () {});\n        }\n    },\n    created: function created() {\n        this.setTabs();\n        if (this.$store.state.permission.permission_menu && this.$store.state.permission.permission_menu.length) {\n            this.menu = [].concat(this.$store.state.permission.permission_menu);\n            this.setParentMenu();\n            if (!this.currentId) {\n                this.viewMenu(this.menu[0]);\n            }\n        } else {\n            this.getMenu();\n        }\n    }\n}; //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/***/ }),\n\n/***/ 877:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * Created by liangzc on 2017/9/21.\r\n */\n\nexports.default = [{\n    name: '浏览',\n    sign: 'view'\n}, {\n    name: '新增',\n    sign: 'add'\n}, {\n    name: '修改',\n    sign: 'edit'\n}, {\n    name: '删除',\n    sign: 'delete'\n}, {\n    name: '导入',\n    sign: 'import'\n}, {\n    name: '导出',\n    sign: 'export'\n}, {\n    name: '上传',\n    sign: 'upload'\n}, {\n    name: '下载',\n    sign: 'download'\n}, {\n    name: '审核',\n    sign: 'verify'\n}, {\n    name: '分配',\n    sign: 'distribute'\n}, {\n    name: '解冻',\n    sign: 'unblocked'\n}, {\n    name: '取消',\n    sign: 'cancel'\n}, {\n    name: '全部取消',\n    sign: 'cancelAll'\n}, {\n    name: '启用',\n    sign: 'enable'\n}, {\n    name: '禁用',\n    sign: 'disable'\n}, {\n    name: '测试钱包',\n    sign: 'testWallet'\n}, {\n    name: '启/禁用',\n    sign: 'management'\n}, {\n    name: '回复',\n    sign: 'reply'\n}, {\n    name: '发币',\n    sign: 'sendCoin'\n}, {\n    name: '是否设置交易密码',\n    sign: 'setPassword'\n}];\n\n/***/ }),\n\n/***/ 912:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(152)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".parent-menu-items[data-v-9ce994fa]{min-width:196px;max-height:200px;overflow:auto}.parent-menu-items .el-tree[data-v-9ce994fa]{border:none}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/XY-5-16-02/Desktop/dctp-admin-code/src/views/system/menu.vue\"],\"names\":[],\"mappings\":\"AACA,oCACE,gBAAiB,AACjB,iBAAkB,AAClB,aAAe,CAChB,AACD,6CACI,WAAa,CAChB\",\"file\":\"menu.vue\",\"sourcesContent\":[\"\\n.parent-menu-items[data-v-9ce994fa] {\\n  min-width: 196px;\\n  max-height: 200px;\\n  overflow: auto;\\n}\\n.parent-menu-items .el-tree[data-v-9ce994fa] {\\n    border: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 952:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(912);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(153)(\"6d8ed770\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/27.b1f127422c60a1990b1f.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"system-menu\"\n  }, [_c('el-row', {\n    staticClass: \"height100\"\n  }, [_c('el-col', {\n    staticClass: \"left-side relative height100\",\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('div', {\n    staticClass: \"system-menu-list\"\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.menu,\n      \"default-expand-all\": \"\",\n      \"node-key\": \"id\",\n      \"highlight-current\": \"\",\n      \"expand-on-click-node\": false,\n      \"current-node-key\": _vm.currentId,\n      \"props\": _vm.defaultProps\n    },\n    on: {\n      \"node-click\": _vm.viewMenu\n    }\n  })], 1)]), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"system-menu-content\",\n    attrs: {\n      \"span\": 19\n    }\n  }, [_c('div', {\n    staticClass: \"el-tabs__header\"\n  }, [_c('div', {\n    staticClass: \"el-tabs__nav-wrap\"\n  }, [_c('div', {\n    staticClass: \"el-tabs__nav-scroll\"\n  }, [_c('div', {\n    staticClass: \"el-tabs__nav\"\n  }, _vm._l((_vm.tabs), function(item) {\n    return _c('div', {\n      staticClass: \"el-tabs__item\",\n      class: {\n        'is-active': _vm.activeIndex === item.index\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.changeTab(item.index)\n        }\n      }\n    }, [_vm._v(_vm._s(item.label))])\n  })), _vm._v(\" \"), (_vm.permission.delete) ? _c('div', {\n    staticClass: \"fr\",\n    staticStyle: {\n      \"margin-right\": \"20px\",\n      \"margin-top\": \"7px\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.confirmDelete($event)\n      }\n    }\n  }, [_vm._v(\"删除\")])], 1) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"90%\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"菜单名称\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"必填项\",\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.name),\n      callback: function($$v) {\n        _vm.model.name = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"父级菜单\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isView),\n      expression: \"isView\"\n    }],\n    attrs: {\n      \"readonly\": \"\"\n    },\n    model: {\n      value: (_vm.parentMenuName),\n      callback: function($$v) {\n        _vm.parentMenuName = $$v\n      },\n      expression: \"parentMenuName\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isView),\n      expression: \"!isView\"\n    }]\n  }, [_c('el-select', {\n    staticClass: \"dis-block\",\n    attrs: {\n      \"disabled\": _vm.activeIndex !== 1\n    },\n    model: {\n      value: (_vm.model.parentId),\n      callback: function($$v) {\n        _vm.model.parentId = $$v\n      },\n      expression: \"model.parentId\"\n    }\n  }, _vm._l((_vm.parentMenuOptions), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"margin-left\": \"-10px\"\n      },\n      style: ({\n        'padding-left': item.left + 'px'\n      })\n    }, [_c('span', {\n      staticClass: \"el-tree-node__expand-icon\",\n      class: item.children ? 'expanded' : 'is-leaf'\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"el-tree-node__label\"\n    }, [_vm._v(_vm._s(item.label))])])])\n  }))], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"优先级\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.priority),\n      callback: function($$v) {\n        _vm.model.priority = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.priority\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"链接地址\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView,\n      \"placeholder\": \"必填项\"\n    },\n    model: {\n      value: (_vm.model.url),\n      callback: function($$v) {\n        _vm.model.url = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.url\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"菜单标识\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.sign),\n      callback: function($$v) {\n        _vm.model.sign = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.sign\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"form-label text-right\",\n    attrs: {\n      \"span\": 3,\n      \"readonly\": _vm.isView\n    }\n  }, [_vm._v(\"备注\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": _vm.isView\n    },\n    model: {\n      value: (_vm.model.description),\n      callback: function($$v) {\n        _vm.model.description = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"model.description\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"form-label\",\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('el-col', {\n    staticClass: \"text-right\",\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"资源权限\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 21\n    }\n  }, [(_vm.isView) ? _vm._l((_vm.model.permissionVoList), function(item) {\n    return _c('el-checkbox', {\n      key: item.sign,\n      attrs: {\n        \"disabled\": true,\n        \"checked\": true\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }) : [_c('el-checkbox-group', {\n    model: {\n      value: (_vm.permissionVoList),\n      callback: function($$v) {\n        _vm.permissionVoList = $$v\n      },\n      expression: \"permissionVoList\"\n    }\n  }, _vm._l((_vm.resource), function(item, index) {\n    return _c('el-checkbox', {\n      key: item.sign,\n      attrs: {\n        \"label\": item.sign,\n        \"disabled\": item.sign === 'view'\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }))]], 2)], 1), _vm._v(\" \"), _c('el-row', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.activeIndex !== 0),\n      expression: \"activeIndex !== 0\"\n    }]\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\" \")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 21\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.saveMenu($event)\n      }\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)], 1)])], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-9ce994fa\",\"hasScoped\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/system/menu.vue\n// module id = 1046\n// module chunks = 27","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9ce994fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./menu.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./menu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9ce994fa\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./menu.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9ce994fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/menu.vue\n// module id = 232\n// module chunks = 27","<template>\r\n    <div class=\"system-menu\">\r\n        <el-row class=\"height100\">\r\n            <el-col :span=\"5\" class=\"left-side relative height100\">\r\n                <div class=\"system-menu-list\">\r\n                    <el-tree\r\n                            :data=\"menu\"\r\n                            default-expand-all\r\n                            node-key=\"id\"\r\n                            ref=\"tree\"\r\n                            highlight-current\r\n                            :expand-on-click-node=\"false\"\r\n                            :current-node-key=\"currentId\"\r\n                            @node-click=\"viewMenu\"\r\n                            :props=\"defaultProps\">\r\n                    </el-tree>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"19\" class=\"system-menu-content\">\r\n                <div class=\"el-tabs__header\">\r\n                    <div class=\"el-tabs__nav-wrap\">\r\n                        <div class=\"el-tabs__nav-scroll\">\r\n                            <div class=\"el-tabs__nav\">\r\n                                <div v-for=\"item in tabs\"\r\n                                     class=\"el-tabs__item\"\r\n                                     @click.stop=\"changeTab(item.index)\"\r\n                                     :class=\"{'is-active': activeIndex === item.index}\">{{item.label}}</div>\r\n                            </div>\r\n                            <div v-if=\"permission.delete\" class=\"fr\" style=\"margin-right: 20px; margin-top: 7px;\">\r\n                                <el-button size=\"small\" @click.stop=\"confirmDelete\">删除</el-button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style=\"width: 90%;\">\r\n                    <el-row :gutter=\"16\">\r\n                        <el-col :span=\"3\" class=\"form-label text-right\">菜单名称</el-col>\r\n                        <el-col :span=\"5\">\r\n                            <el-input v-model.trim=\"model.name\" placeholder=\"必填项\" :readonly=\"isView\"></el-input>\r\n                        </el-col>\r\n                        <el-col :span=\"3\" class=\"form-label text-right\">父级菜单</el-col>\r\n                        <el-col :span=\"5\">\r\n                            <el-input v-model=\"parentMenuName\" v-show=\"isView\" readonly></el-input>\r\n                            <div v-show=\"!isView\">\r\n                                <el-select\r\n                                        class=\"dis-block\"\r\n                                        v-model=\"model.parentId\"\r\n                                        :disabled=\"activeIndex !== 1\">\r\n                                    <el-option\r\n                                            v-for=\"item in parentMenuOptions\"\r\n                                            :key=\"item.id\"\r\n                                            :label=\"item.label\"\r\n                                            :value=\"item.value\">\r\n                                        <div style=\"margin-left: -10px;\" :style=\"{'padding-left': item.left + 'px'}\">\r\n                                            <span class=\"el-tree-node__expand-icon\" :class=\"item.children ? 'expanded' : 'is-leaf'\"></span>\r\n                                            <span class=\"el-tree-node__label\">{{item.label}}</span>\r\n                                        </div>\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </div>\r\n                        </el-col>\r\n                        <el-col :span=\"3\" class=\"form-label text-right\">优先级</el-col>\r\n                        <el-col :span=\"5\">\r\n                            <el-input v-model.trim=\"model.priority\" :readonly=\"isView\"></el-input>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row :gutter=\"16\">\r\n                        <el-col :span=\"3\" class=\"form-label text-right\">链接地址</el-col>\r\n                        <el-col :span=\"5\">\r\n                            <el-input v-model.trim=\"model.url\" :readonly=\"isView\" placeholder=\"必填项\"></el-input>\r\n                        </el-col>\r\n                        <el-col :span=\"3\" class=\"form-label text-right\">菜单标识</el-col>\r\n                        <el-col :span=\"5\">\r\n                            <el-input v-model.trim=\"model.sign\" :readonly=\"isView\"></el-input>\r\n                        </el-col>\r\n                        <el-col :span=\"3\" class=\"form-label text-right\" :readonly=\"isView\">备注</el-col>\r\n                        <el-col :span=\"5\">\r\n                            <el-input v-model.trim=\"model.description\" :readonly=\"isView\"></el-input>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row :gutter=\"16\" class=\"form-label\">\r\n                        <el-col :span=\"3\" class=\"text-right\">资源权限</el-col>\r\n                        <el-col :span=\"21\">\r\n                            <template v-if=\"isView\">\r\n                                <el-checkbox\r\n                                        v-for=\"item in model.permissionVoList\"\r\n                                        :disabled=\"true\" :key=\"item.sign\"\r\n                                        :checked=\"true\">{{item.name}}</el-checkbox>\r\n                            </template>\r\n                            <template v-else>\r\n                                <el-checkbox-group v-model=\"permissionVoList\">\r\n                                    <el-checkbox\r\n                                            v-for=\"(item, index) in resource\"\r\n                                            :label=\"item.sign\"\r\n                                            :disabled=\"item.sign === 'view'\"\r\n                                            :key=\"item.sign\">{{item.name}}</el-checkbox>\r\n                                </el-checkbox-group>\r\n                            </template>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row v-show=\"activeIndex !== 0\">\r\n                        <el-col :span=\"3\">&nbsp;</el-col>\r\n                        <el-col :span=\"21\">\r\n                            <el-button type=\"primary\" @click.stop=\"saveMenu\">保存</el-button>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import fetch from '@/utils/fetch';\r\n    import resource from '@/utils/resource';\r\n    import DCTP from '@/utils/dctp';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                menu: [],\r\n                defaultProps: {\r\n                    children: 'children',\r\n                    label: 'name'\r\n                },\r\n                currentId: '',\r\n                resource,\r\n                model: {\r\n                    id: '',\r\n                    name: '',\r\n                    sign: '',\r\n                    description: '',\r\n                    priority: 0,\r\n                    url: '',\r\n                    parentId: '',\r\n                    permissionVoList: [resource[0]]\r\n                },\r\n                permissionVoList: [],\r\n                tabs: [],\r\n                parentMenuOptions: '',\r\n                activeIndex: 0\r\n            };\r\n        },\r\n        computed: {\r\n            isView() {\r\n                return this.activeIndex === 0;\r\n            },\r\n            parentMenuName() {\r\n                let name = '';\r\n                if (this.parentMenuOptions && this.parentMenuOptions.length &&\r\n                    this.model.parentId) {\r\n                    name = DCTP.utils.findDataByValue(this.parentMenuOptions, this.model.parentId, 'value');\r\n                    name = name ? name.label : '';\r\n                }\r\n\r\n                return name;\r\n            }\r\n        },\r\n        methods: {\r\n            saveMenu() {\r\n                let _this = this;\r\n\r\n                if (this.validate()) {\r\n                    let data;\r\n                    this.model.permissionVoList = this.getVoList();\r\n                    if (this.model.id) {\r\n                        data = {\r\n                            url: 'admin/module/' + _this.currentId,\r\n                            method: 'put',\r\n                            data: this.model\r\n                        };\r\n                    } else {\r\n                        data = {\r\n                            url: 'admin/module',\r\n                            method: 'post',\r\n                            data: _this.model\r\n                        };\r\n                    }\r\n\r\n                    return new Promise((resolve, reject) => {\r\n                        fetch(data).then(function (response) {\r\n                            if (response.result) {\r\n                                _this.getMenu();\r\n                                _this.assistModel = DCTP.utils.assign({}, _this.model);\r\n                                _this.activeIndex !== 1 && _this.resetModel();\r\n                            }\r\n                            _this.getMessage(response.msg, response.result);\r\n                        })\r\n                    })\r\n                }\r\n            },\r\n            getMenu() {\r\n                let _this = this;\r\n                return new Promise((resolve, reject) => {\r\n                    fetch({\r\n                        url: 'admin/module/tree',\r\n                        method: 'get'\r\n                    }).then(function (response) {\r\n                        if (response.result) {\r\n                            if (response.data) {\r\n                                _this.menu = [response.data];\r\n                                _this.$store.commit('SET_PERMISSION_MENU', [response.data]);\r\n                                _this.setParentMenu();\r\n                                if (!_this.currentId) {\r\n                                    _this.viewMenu(response.data);\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                })\r\n            },\r\n            setParentMenu() {\r\n                let menus = [];\r\n                let len = this.menu && this.menu.length || 0;\r\n                let i;\r\n\r\n                for (i = 0; i < len; i++) {\r\n                    this.fillParentMenu(menus, this.menu[i], 0);\r\n                }\r\n\r\n                this.parentMenuOptions = menus;\r\n            },\r\n            fillParentMenu(menus, data, level) {\r\n                let _this = this;\r\n\r\n                if (data) {\r\n                    menus.push({\r\n                        label: data.name,\r\n                        value: data.id,\r\n                        left: level * 16,\r\n                        children: data.children && data.children.length\r\n                    });\r\n\r\n                    level++;\r\n                    data.children && data.children.forEach((item, index) => {\r\n                        if (item.children && item.children.length) {\r\n                            _this.fillParentMenu(menus, item, level);\r\n                        } else {\r\n                            menus.push({\r\n                                label: item.name,\r\n                                value: item.id,\r\n                                left: level * 16,\r\n                                children: 0\r\n                            })\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            parseVoList(data) {\r\n                let items = [];\r\n\r\n                data && data.forEach(item => {\r\n                    items.push(item.sign);\r\n                });\r\n\r\n                return items;\r\n            },\r\n            getVoList() {\r\n                let _this = this;\r\n                let items = [];\r\n\r\n                this.permissionVoList && this.permissionVoList.forEach(item => {\r\n                    let one = DCTP.utils.findDataByValue(_this.resource, item, 'sign');\r\n\r\n                    if (one) {\r\n                        items.push(one);\r\n                    }\r\n                });\r\n\r\n                return items;\r\n            },\r\n            changeTab(index) {\r\n                this.activeIndex = index;\r\n                if (index === 2 || index === 3) {\r\n                    this.resetModel();\r\n                    if (this.assistModel) {\r\n                        if (index === 2) {\r\n                            if (this.assistModel.parentId) {\r\n                                this.model.parentId = this.assistModel.parentId;\r\n                            }\r\n                        } else {\r\n                            this.model.parentId = this.assistModel.id;\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.assistModel && this.setModel(this.assistModel);\r\n                }\r\n            },\r\n            // 查看单个菜单\r\n            viewMenu(data) {\r\n                this.currentId = data.id;\r\n                this.setModel(data);\r\n            },\r\n            resetModel() {\r\n                let key;\r\n\r\n                for (key in this.model) {\r\n                    switch (key) {\r\n                        case 'priority': this.model[key] = 0; break;\r\n                        case 'permissionVoList': this.model[key] = ['view']; break;\r\n                        default: this.model[key] = '';\r\n                    }\r\n                }\r\n\r\n                this.permissionVoList = ['view'];\r\n            },\r\n            setModel(data) {\r\n                let key;\r\n\r\n                if (data.permissionVoList && DCTP.utils.isArray(data.permissionVoList)) {\r\n                    this.permissionVoList = this.parseVoList(data.permissionVoList);\r\n                }\r\n                this.assistModel = DCTP.utils.assign({}, data);\r\n                if (this.activeIndex === 0 || this.activeIndex === 1) {\r\n                    for (key in this.model) {\r\n                        this.model[key] = data[key];\r\n                    }\r\n                } else if (this.activeIndex === 2) {\r\n                    if (this.assistModel && this.assistModel.parentId) {\r\n                        this.model.parentId = this.assistModel.parentId;\r\n                    } else {\r\n                        this.model.parentId = '';\r\n                    }\r\n                } else {\r\n                    this.model.parentId = this.assistModel && this.assistModel.id || '';\r\n                }\r\n            },\r\n            validate() {\r\n                if (!this.model.name) {\r\n                    this.$message.error('请输入菜单名称');\r\n                    return false;\r\n                }\r\n                if (!this.model.url) {\r\n                    this.$message.error('请输入菜单链接地址');\r\n                    return false;\r\n                }\r\n                if (!this.permissionVoList.length) {\r\n                    this.$message.error('请选择资源权限');\r\n                    return false;\r\n                }\r\n                return true;\r\n            },\r\n            deleteMenu() {\r\n                let _this = this;\r\n                return new Promise((resolve, reject) => {\r\n                    fetch({\r\n                        url: 'admin/module/' + _this.currentId,\r\n                        method: 'delete',\r\n                        data: ''\r\n                    }).then(function (response) {\r\n                        if (response.result) {\r\n                            _this.getMenu();\r\n                            _this.resetModel();\r\n                            _this.assistModel = null;\r\n                            _this.currentId = '';\r\n                        }\r\n                        _this.getMessage(response.msg, response.result);\r\n                    });\r\n                })\r\n            },\r\n            setTabs() {\r\n                this.tabs = [{\r\n                    label: '查看',\r\n                    index: 0,\r\n                    show: this.permission.view\r\n                }, {\r\n                    label: '修改',\r\n                    index: 1,\r\n                    show: this.permission.edit\r\n                }, {\r\n                    label: '新增同级',\r\n                    index: 2,\r\n                    show: this.permission.add\r\n                }, {\r\n                    label: '新增下级',\r\n                    index: 3,\r\n                    show: this.permission.add\r\n                }];\r\n            },\r\n            confirmDelete() {\r\n                if (this.currentId === '') {\r\n                    this.$message.warning('请先选择一个菜单再进行删除操作');\r\n                    return;\r\n                }\r\n                this.$confirm('确定要删除该菜单？', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.deleteMenu();\r\n                }).catch(() => {\r\n\r\n                });\r\n            }\r\n        },\r\n        created() {\r\n            this.setTabs();\r\n            if (this.$store.state.permission.permission_menu &&\r\n                this.$store.state.permission.permission_menu.length) {\r\n                this.menu = [].concat(this.$store.state.permission.permission_menu);\r\n                this.setParentMenu();\r\n                if (!this.currentId) {\r\n                    this.viewMenu(this.menu[0]);\r\n                }\r\n            } else {\r\n                this.getMenu();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n    .parent-menu-items {\r\n        min-width: 196px;\r\n        max-height: 200px;\r\n        overflow: auto;\r\n\r\n        .el-tree {\r\n            border: none;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/system/menu.vue?4c47ae86","/**\r\n * Created by liangzc on 2017/9/21.\r\n */\r\n\r\nexport default [\r\n    {\r\n        name: '浏览',\r\n        sign: 'view',\r\n    },\r\n    {\r\n        name: '新增',\r\n        sign: 'add',\r\n    },\r\n    {\r\n        name: '修改',\r\n        sign: 'edit',\r\n    },\r\n    {\r\n        name: '删除',\r\n        sign: 'delete',\r\n    },\r\n    {\r\n        name: '导入',\r\n        sign: 'import',\r\n    },\r\n    {\r\n        name: '导出',\r\n        sign: 'export',\r\n    },\r\n    {\r\n        name: '上传',\r\n        sign: 'upload',\r\n    },\r\n    {\r\n        name: '下载',\r\n        sign: 'download',\r\n    },\r\n    {\r\n        name: '审核',\r\n        sign: 'verify',\r\n    },\r\n    {\r\n        name: '分配',\r\n        sign: 'distribute',\r\n    },\r\n    {\r\n        name: '解冻',\r\n        sign: 'unblocked',\r\n    },\r\n    {\r\n        name: '取消',\r\n        sign: 'cancel',\r\n    },\r\n    {\r\n        name: '全部取消',\r\n        sign: 'cancelAll',\r\n    },\r\n    {\r\n        name: '启用',\r\n        sign: 'enable',\r\n    },\r\n    {\r\n        name: '禁用',\r\n        sign: 'disable',\r\n    },\r\n    {\r\n        name: '测试钱包',\r\n        sign: 'testWallet',\r\n    },\r\n    {\r\n        name: '启/禁用',\r\n        sign: 'management',\r\n    },\r\n    {\r\n        name: '回复',\r\n        sign: 'reply',\r\n    },\r\n    {\r\n        name: '发币',\r\n        sign: 'sendCoin',\r\n    },\r\n     {\r\n        name: '是否设置交易密码',\r\n        sign: 'setPassword',\r\n    }\r\n]\n\n\n// WEBPACK FOOTER //\n// ./src/utils/resource.js","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.0@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".parent-menu-items[data-v-9ce994fa]{min-width:196px;max-height:200px;overflow:auto}.parent-menu-items .el-tree[data-v-9ce994fa]{border:none}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/XY-5-16-02/Desktop/dctp-admin-code/src/views/system/menu.vue\"],\"names\":[],\"mappings\":\"AACA,oCACE,gBAAiB,AACjB,iBAAkB,AAClB,aAAe,CAChB,AACD,6CACI,WAAa,CAChB\",\"file\":\"menu.vue\",\"sourcesContent\":[\"\\n.parent-menu-items[data-v-9ce994fa] {\\n  min-width: 196px;\\n  max-height: 200px;\\n  overflow: auto;\\n}\\n.parent-menu-items .el-tree[data-v-9ce994fa] {\\n    border: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-9ce994fa\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.5@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/system/menu.vue\n// module id = 912\n// module chunks = 27","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.0@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9ce994fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.5@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./menu.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"6d8ed770\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-9ce994fa\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.5@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/system/menu.vue\n// module id = 952\n// module chunks = 27"],"sourceRoot":""}