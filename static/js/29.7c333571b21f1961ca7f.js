webpackJsonp([29],{1047:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-20"},[i("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入会员UID、手机号码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.handleFilter(t)}},model:{value:e.listQuery.nameUidNum,callback:function(t){e.listQuery.nameUidNum=t},expression:"listQuery.nameUidNum"}}),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"30px"},attrs:{size:"small"},on:{click:e.handleFilter}},[e._v("查询")])],1),e._v(" "),i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-text":"加载中......."}},[e._l(e.tableHeader,function(e){return i("el-table-column",{key:e.prop,attrs:{label:e.label,prop:e.prop,width:e.width,"min-width":e.minWidth,align:e.align,formatter:e.formatter,"show-overflow-tooltip":""}})}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("ul",{staticStyle:{"list-style":"none",padding:"0px",margin:"0px"}},[i("li",{staticStyle:{float:"left",width:"50px"}},[i("el-button",{attrs:{type:"text"},on:{click:function(i){e.handleDeleteEdit(t.row.userId)}}},[e._v("审核\n                            ")])],1)])]}}])})],2),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[15,30,45,60],"page-size":e.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.userPageSize,"current-change":e.userPage}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"身份认证信息",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{attrs:{model:e.temp}},[i("el-form-item",{attrs:{label:"视频认证状态","label-width":e.formLabelWidth}},[[0==e.temp.identityValidateState?i("div",[e._v("\n                        未提交\n                    ")]):1==e.temp.identityValidateState?i("div",[e._v("\n                        待审核\n                    ")]):3==e.temp.identityValidateState?i("div",[e._v("\n                        已认证\n                    ")]):4==e.temp.identityValidateState?i("div",[e._v("\n                        不通过\n                    ")]):e._e()]],2),e._v(" "),i("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.temp.name,callback:function(t){e.temp.name=t},expression:"temp.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"国家/地区","label-width":e.formLabelWidth}},[i("el-select",{staticClass:"filter-item",on:{change:e.handleChange},model:{value:e.temp.identityArea,callback:function(t){e.temp.identityArea=t},expression:"temp.identityArea"}},e._l(e.citybos,function(e){return i("el-option",{key:e.countryCode,attrs:{label:e.cityName,value:e.cityId}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"证件类型","label-width":e.formLabelWidth}},[i("el-select",{staticClass:"filter-item",model:{value:e.temp.identityType,callback:function(t){e.temp.identityType=t},expression:"temp.identityType"}},e._l(e.identityType,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"证件号码","label-width":e.formLabelWidth}},[i("el-input",{model:{value:e.temp.idCard,callback:function(t){e.temp.idCard=t},expression:"temp.idCard"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"审核结果","label-width":e.formLabelWidth}},[i("el-radio",{attrs:{label:3},model:{value:e.temp.videoValidate,callback:function(t){e.temp.videoValidate=t},expression:"temp.videoValidate"}},[e._v("通过审核")]),e._v(" "),i("el-radio",{attrs:{label:4},model:{value:e.temp.videoValidate,callback:function(t){e.temp.videoValidate=t},expression:"temp.videoValidate"}},[e._v("驳回")])],1),e._v(" "),4===e.temp.videoValidate?i("div",[i("el-form-item",{attrs:{label:"驳回原因","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off",value:"form.checkRemark"},model:{value:e.temp.checkRemark,callback:function(t){e.temp.checkRemark=t},expression:"temp.checkRemark"}})],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),e.permission.verify?i("el-button",{attrs:{type:"primary"},on:{click:e.updateCheckUser}},[e._v("确 定")]):e._e()],1)],1)],1)},l=[],n={render:a,staticRenderFns:l};t.a=n},215:function(e,t,i){"use strict";function a(e){i(953)}Object.defineProperty(t,"__esModule",{value:!0});var l=i(841),n=i.n(l),r=i(1047),d=i(23),o=a,s=d(n.a,r.a,o,null,null);t.default=s.exports},707:function(e,t,i){"use strict";function a(e){return(0,m.default)({url:"admin/conditionuser",method:"get",params:e})}function l(e){return(0,m.default)({url:"admin/updateuser",method:"put",data:e})}function n(e){return(0,m.default)({url:"admin/enabledisable",method:"put",data:e})}function r(e){return(0,m.default)({url:"admin/checkuser",method:"put",data:e})}function d(e){return(0,m.default)({url:"admin/selectuser",method:"get",params:e})}function o(){return(0,m.default)({url:"admin/getCity",method:"get"})}function s(e){return(0,m.default)({url:"admin/resetOrUpdate",method:"put",data:e})}function u(e){return(0,m.default)({url:"admin/unlockLoginPwd/"+e,method:"put"})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchList=a,t.alterUser=l,t.disableUser=n,t.verifiedUser=r,t.selectUser=d,t.getCity=o,t.resetUpdate=s,t.unlockLoginPwd=u;var c=i(24),m=function(e){return e&&e.__esModule?e:{default:e}}(c)},841:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(11),l=function(e){return e&&e.__esModule?e:{default:e}}(a),n=i(707),r=[{key:0,display_name:"全部状态"},{key:1,display_name:"手机注册"},{key:2,display_name:"邮箱注册"},{key:3,display_name:"QQ注册"},{key:4,display_name:"微信注册"}];t.default={data:function(){return{logintypeOptions:r,total:null,tableData:[],citybos:[],listLoading:!0,dialogFormVisible:!1,identityType:null,temp:{userId:"",identityValidateState:"",name:"",identityArea:"",identityType:"",idCard:"",checkRemark:"",identityValidate:""},selectUserId:{userId:""},formLabelWidth:"120px",currentRow:null,listQuery:{nameUidNum:"",accountStatus:0,identityValidate:3,photoidValidate:3,videoValidate:1,pageSize:15,page:1},msg:"",tableHeader:[{label:"UID",prop:"userId",width:65},{label:"手机号码",prop:"phoneNum",width:130},{label:"邮箱",prop:"email",width:160},{label:"姓名",prop:"name",minWidth:120},{label:"证件类型",prop:"identityType",minWidth:95,align:"center",formatter:function(e,t,i){return 0===i?"身份证":2===i?"护照":"未知"}},{label:"国籍",minWidth:120,formatter:function(e,t,i){return null===e.cndict?"未提交":e.cndict+"("+e.endict+")"}},{label:"证件号码",prop:"idCard",minWidth:95,align:"center"},{label:"实名认证",prop:"identityValidate",width:110,align:"center",formatter:function(e,t,i){return 3==e.videoValidate?"C3认证":3==e.photoidValidate?"C2认证":3==e.identityType?"C1认证":"未认证"}},{label:"状态",prop:"accountStatus",width:80,align:"center",formatter:function(e,t,i){return 1===i?"正常":2===i?"禁用":"未知"}},{label:"登录IP",prop:"0"},{label:"申请时间",prop:"videoTime",width:170,formatter:function(e,t,i){return l.default.utils.parseDateTimeStr(i)}},{label:"注册时间",prop:"createTime",width:170,formatter:function(e,t,i){return l.default.utils.parseDateTimeStr(i)}},{label:"最后更新时间",prop:"updateTime",width:170,formatter:function(e,t,i){return l.default.utils.parseDateTimeStr(i)}}]}},computed:{tableDataLength:function(){return this.tableData.length}},methods:{getList:function(){var e=this;this.listLoading=!0,(0,n.fetchList)(this.listQuery).then(function(t){e.tableData=t.data.userList,e.citybos=t.data.citybos,e.total=t.data.total,e.listLoading=!1})},handleFilter:function(){this.getList()},userPage:function(e){this.listQuery.page=e,this.getList()},userPageSize:function(e){this.listQuery.pageSize=e,this.getList()},updateUser:function(){var e=this;(0,n.alterUser)(this.temp).then(function(t){t.result?(e.dialogFormVisible=!1,e.msg="操作成功!",e.$message({type:"success",message:e.msg}),e.getList()):(e.msg=t.msg,e.$message({type:"error",message:e.msg}))})},updateCheckUser:function(){this.updateUser()},handleChange:function(e){this.temp.identityType=1===e?0:2,this.identityType=1===e?[{id:0,name:"身份证"}]:[{id:2,name:"护照"}]},validate:function(){return!!this.temp.name||(this.$message.warning("请输入姓名"),!1)},handleDeleteEdit:function(e){var t=this;this.dialogFormVisible=!0,this.listLoad=!0,this.selectUserId.userId=e,(0,n.selectUser)(this.selectUserId).then(function(e){t.temp=e.data,t.temp.identityValidateState=e.data.videoValidate,4!==e.data.videoValidate&&(t.temp.videoValidate=3),t.listLoad=!1})}},created:function(){this.getList()}}},913:function(e,t,i){t=e.exports=i(152)(!0),t.push([e.i,".el-dialog--small{width:30%}","",{version:3,sources:["C:/Users/XY-5-16-02/Desktop/dctp-admin-code/src/views/members/videoauthentication.vue"],names:[],mappings:"AACA,kBACI,SAAW,CACd",file:"videoauthentication.vue",sourcesContent:["\n.el-dialog--small {\n    width: 30%;\n}\n"],sourceRoot:""}])},953:function(e,t,i){var a=i(913);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(153)("cf91d974",a,!0)}});
//# sourceMappingURL=29.7c333571b21f1961ca7f.js.map