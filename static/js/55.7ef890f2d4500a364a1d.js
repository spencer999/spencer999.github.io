webpackJsonp([55],{1005:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-20"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请输入用户ID、登录名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.conditionQuery(t)}},model:{value:e.currencyTrans.username,callback:function(t){e.currencyTrans.username=t},expression:"currencyTrans.username"}}),e._v(" "),a("span",[e._v("商品类型")]),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.currencyTrans.goodsId,callback:function(t){e.currencyTrans.goodsId=t},expression:"currencyTrans.goodsId"}},e._l(e.coinList,function(e){return a("el-option",{key:e.baseSeq,attrs:{label:e.chineseName,value:e.baseSeq}})})),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"30px"},attrs:{size:"small"},on:{click:e.conditionQuery}},[e._v("查询\n        ")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary",size:"small"},on:{click:e.addpostexpress}},[e._v("新增快递机构\n        ")])],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"singleTable",attrs:{data:e.tableData,"element-loading-text":"给我一点时间"}},[e._l(e.tableHeader,function(e){return a("el-table-column",{key:e.prop,attrs:{label:e.label,prop:e.prop,width:e.width,"min-width":e.minWidth,align:e.align,formatter:e.formatter,"show-overflow-tooltip":""}})}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ul",{staticStyle:{"list-style":"none",padding:"0px",height:"30px",margin:"0px"}},[a("li",{staticStyle:{float:"right",width:"60px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.cancelgoods(t.row.id)}}},[e._v("取消提现\n                            ")])],1),e._v(" "),6===t.row.status?a("li",{staticStyle:{float:"right",width:"100px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.passApproval(t.row)}}},[e._v("审核\n                            ")])],1):e._e(),e._v(" "),6===t.row.status?a("li",{staticStyle:{float:"right",width:"60px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.lockgoods(t.row.id,1,"取消锁定")}}},[e._v("取消锁定\n                            ")])],1):6!==t.row.status?a("li",{staticStyle:{float:"right",width:"100px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.lockgoods(t.row.id,6,"锁定")}}},[e._v("锁定\n                            ")])],1):e._e(),e._v(" "),6===t.row.status?a("li",{staticStyle:{float:"right",width:"100px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.issuegoods(t.row.id,2)}}},[e._v("移入问题列表\n                            ")])],1):e._e()])]}}])})],2),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currencyTrans.page.pageNum,"page-sizes":[15,30,45,60],"page-size":e.currencyTrans.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.userPageSize,"current-change":e.userPage}})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{"element-loading-text":"给我一点时间",title:"确认提示",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"applygoods",attrs:{model:e.applygoods,rules:e.appgoods}},[a("el-form-item",{attrs:{label:"快递机构：","label-width":e.formLabelWidth,prop:"expressAgentId"}},[a("el-select",{staticClass:"filter-item",model:{value:e.applygoods.expressAgentId,callback:function(t){e.applygoods.expressAgentId=t},expression:"applygoods.expressAgentId"}},e._l(e.deliverylist,function(e){return a("el-option",{key:e.id,attrs:{label:e.expressName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"快递单号","label-width":e.formLabelWidth,prop:"expressNo"}},[a("el-input",{attrs:{placeholder:"请输入快递单号"},model:{value:e.applygoods.expressNo,callback:function(t){e.applygoods.expressNo=t},expression:"applygoods.expressNo"}})],1)],1),e._v(" "),a("el-form",{attrs:{model:e.temp}},[a("el-form-item",{attrs:{label:"收货人姓名:","label-width":e.formLabelWidth}},[a("div",[e._v(e._s(e.temp.realName))])]),e._v(" "),a("el-form-item",{attrs:{label:"收货人电话:","label-width":e.formLabelWidth}},[a("div",[e._v(e._s(e.temp.mobile))])]),e._v(" "),a("el-form-item",{attrs:{label:"地址:","label-width":e.formLabelWidth}},[a("div",[e._v(e._s(e.temp.location)+e._s(e.temp.deliveryAddress))])]),e._v(" "),a("el-form-item",{attrs:{label:"提货:","label-width":e.formLabelWidth}},[a("div",[e._v(e._s(e.temp.applyDeliveryCount))])]),e._v(" "),a("el-form-item",{attrs:{label:"数量:","label-width":e.formLabelWidth}},[a("div",[e._v(e._s(e.temp.goodsName))])]),e._v(" "),a("el-form-item",{attrs:{label:"申请时间:","label-width":e.formLabelWidth}},[a("div",[e._v(e._s(e.temp.createTime))])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reviewgoods}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"element-loading-text":"给我一点时间",title:"新增快递机构",visible:e.xpressVisible},on:{"update:visible":function(t){e.xpressVisible=t}}},[a("el-form",{ref:"xpress",attrs:{model:e.xpress,rules:e.xpressgoods}},[a("el-form-item",{attrs:{label:"快递机构名称","label-width":e.formLabelWidth,prop:"expressName"}},[a("el-input",{attrs:{placeholder:"请输入快递单号"},model:{value:e.xpress.expressName,callback:function(t){e.xpress.expressName=t},expression:"xpress.expressName"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(t){e.xpressVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.postexpress}},[e._v("确 定")])],1)],1)],1)},i=[],r={render:s,staticRenderFns:i};t.a=r},175:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(802),i=a.n(s),r=a(1005),l=a(23),o=l(i.a,r.a,null,null,null);t.default=o.exports},297:function(e,t,a){"use strict";function s(e){return["admin","editor"].indexOf(e.trim())>=0}function i(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)}function r(e){return/^[a-z]+$/.test(e)}function l(e){return/^[A-Z]+$/.test(e)}function o(e){return/^[A-Za-z]{0,40}$/.test(e)}function n(e){return/^[\u4e00-\u9fa5]{0,10}$/.test(e)}function d(e){var t=new RegExp(/[\u4E00-\u9FA5]/,"g");return e.replace(t,"00").length}function u(e){return/^[A-Za-z0-9]+$/.test(e)}function p(e){return/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/.test(e)}function c(e){return/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5])$/.test(e)}function m(e){return/^[0-9]+(\.[0-9]{0,8})?$/.test(e)}function g(e){return/^[0-9]+(\.[0-9]{0,6})?$/.test(e)}function f(e){return/^[0-9]+(\.[0-9]{0,4})?$/.test(e)}function v(e){return/^[0-9]+(\.[0-9]{0,2})?$/.test(e)}function h(e){return/^(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9]))$/.test(e)}function y(e){return/^(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9]))$|^(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])),(([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])-([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9]))$/.test(e)}function b(e){return/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))([# ])([1][0-9]|[2][0-3]|[0][0-9]|[0-9]):([0-5][0-9])$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidUsername=s,t.validateURL=i,t.validateLowerCase=r,t.validateUpperCase=l,t.validatAlphabets=o,t.validateChinese=n,t.characterSize=d,t.validatePassword=u,t.validateIP=p,t.validateIpPort=c,t.validateEightDecimal=m,t.validateSixDecimal=g,t.validateFourDecimal=f,t.validateTwoDecimal=v,t.validateTimeArea=h,t.validateTimeTwoArea=y,t.validateDateTime=b},315:function(e,t,a){"use strict";function s(e){return(0,y.default)({url:"admin/withdraw/approval",method:"get",params:e})}function i(e){return(0,y.default)({url:"admin/withdraw/passapproval",method:"put",data:e})}function r(e){return(0,y.default)({url:"admin/withdraw/cancelapproval",method:"put",data:e})}function l(e){return(0,y.default)({url:"admin/withdraw/lockapproval",method:"put",data:e})}function o(e){return(0,y.default)({url:"admin/withdraw/issueapproval",method:"put",data:e})}function n(e){return(0,y.default)({url:"admin/rmbtransactions/query",method:"post",data:e})}function d(e){return(0,y.default)({url:"/admin/applydeliverygoods/query",method:"post",data:e})}function u(){return(0,y.default)({url:"/admin/getexpresslist",method:"get"})}function p(e){return(0,y.default)({url:"/admin/applydeliverygoods/review",method:"put",data:e})}function c(e,t){return(0,y.default)({url:"/admin/applydeliverygoods/"+e+"/"+t+"/lock",method:"put"})}function m(e){return(0,y.default)({url:"/admin/applydeliverygoods/"+e+"/cancel",method:"put"})}function g(e,t){return(0,y.default)({url:"/admin/applydeliverygoods/"+e+"/"+t+"/issue",method:"put"})}function f(e){return(0,y.default)({url:"/admin/postexpress",method:"post",data:e})}function v(e){return(0,y.default)({url:"admin/virtualcoinandgoods",method:"put",data:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getApproval=s,t.passApproval=i,t.cancelApproval=r,t.lockApproval=l,t.issueApproval=o,t.rmbquery=n,t.goodsquery=d,t.getexpress=u,t.reviewgoods=p,t.lockgoods=c,t.cancelgoods=m,t.issuegoods=g,t.postexpress=f,t.getgoodslist=v;var h=a(24),y=function(e){return e&&e.__esModule?e:{default:e}}(h)},802:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(24),r=(s(i),a(11)),l=s(r),o=a(297),n=a(315),d={baseSeq:"",chineseName:"全部商品",englishName:"All"},u={id:0,expressName:"请选择快递机构"},p={id:0,goodsName:"全部商品"},c=[{key:0,display_name:"全部状态"},{key:1,display_name:"等待审核"},{key:2,display_name:"等待收货"},{key:3,display_name:"成功提现"},{key:4,display_name:"系统撤销"},{key:5,display_name:"用户撤销"},{key:6,display_name:"正在处理"}];t.default={data:function(){var e=function(e,t,a){""!==t&&0!==t||a(new Error("请选择快递")),a()},t=function(e,t,a){(0,o.characterSize)(t)>40?a(new Error("最大40字符")):""===t&&a(new Error("请输入信息")),a()};return{goodsone:p,express:u,allCoin:d,goodsList:[],coinList:[],dateTime:"",tableData:[],deliverylist:[],xpressVisible:!1,goodsall:{types:[2]},xpress:{expressName:""},applygoods:{id:"",expressAgentId:0,expressNo:""},formLabelWidth:"120px",total:null,dialogFormVisible:!1,lockWithdrawalVo:{id:"",status:""},temp:{mobile:"",location:"",realName:"",deliveryAddress:"",applyDeliveryCount:"",createTime:"",goodsName:""},currencyTrans:{username:"",goodsId:"",status:1,page:{pageSize:15,pageNum:1}},msg:"",listLoading:!0,appgoods:{expressAgentId:[{validator:e,trigger:"blur"}],expressNo:[{validator:t,trigger:"blur"}]},xpressgoods:{expressName:[{validator:t,trigger:"blur"}]},tableHeader:[{label:"单号id",prop:"id",width:45},{label:"会员UID",prop:"userUid",width:55},{label:"登录名",prop:"loginType",width:120,align:"center",formatter:function(e,t,a){return 1===a?e.loginName:2===a?e.email:"未知"}},{label:"会员昵称",prop:"nickName",align:"center",width:55},{label:"真实姓名",prop:"realName",align:"center",width:55},{label:"商品类型",prop:"goodsName",align:"center",width:65},{label:"状态",prop:"status",width:65,align:"center",formatter:function(e,t,a){var s=l.default.utils.findDataByValue(c,a,"key");return s?s.display_name:""}},{label:"数量",prop:"applyDeliveryCount",width:45,align:"center"},{label:"提货人",prop:"realName",align:"center",width:55},{label:"手机号",prop:"mobile",align:"center",width:100},{label:"所在区域",prop:"location",width:100},{label:"收货地址",prop:"deliveryAddress",width:320},{label:"创建时间",prop:"createTime",formatter:function(e,t,a){return l.default.utils.parseDateTimeStr(a)}},{label:"最后修改时间",prop:"updateTime",formatter:function(e,t,a){return l.default.utils.parseDateTimeStr(a)}}]}},computed:{tableDataLength:function(){return this.tableData.length}},methods:{userPage:function(e){this.currencyTrans.page.pageNum=e,this.getList()},userPageSize:function(e){this.currencyTrans.page.pageSize=e,this.getList()},conditionQuery:function(){this.getList()},issuegoods:function(e,t){var a=this;(0,n.issuegoods)(e,t).then(function(e){e.result?(a.msg="已移入问题列表",a.$message({type:"success",message:a.msg})):(a.msg="移入问题列表失败",a.$message({type:"error",message:a.msg})),a.getList()})},lockgoods:function(e,t,a){var s=this;(0,n.lockgoods)(e,t).then(function(e){e.result?(s.msg="已"+a+"此单",s.$message({type:"success",message:s.msg})):(s.msg=a+"操作失败",s.$message({type:"error",message:s.msg})),s.getList()})},cancelgoods:function(e){var t=this;(0,n.cancelgoods)(e).then(function(e){e.result&&(t.msg="已取消提现",t.$message({type:"success",message:t.msg})),t.getList()})},passApproval:function(e){var t=this;(0,n.getexpress)().then(function(e){t.deliverylist=e.data,t.deliverylist.unshift(t.express)}),this.temp=e,this.applygoods.id=e.id,this.dialogFormVisible=!0},reviewgoods:function(){var e=this;this.$refs.applygoods.validate(function(t){t&&(console.log(e.applygoods),(0,n.reviewgoods)(e.applygoods).then(function(t){t.result?(e.msg="已提交",e.$message({type:"success",message:e.msg}),e.dialogFormVisible=!1):(e.msg=t.msg,e.$message({type:"error",message:e.msg})),e.getList()}))})},getList:function(){var e=this;this.listLoading=!0,(0,n.goodsquery)(this.currencyTrans).then(function(t){e.tableData=t.data.data,e.total=t.data.page.count,t.result||(e.msg=t.msg,e.$message({type:"warning",message:e.msg})),e.listLoading=!1})},addpostexpress:function(){this.xpress.expressName="",this.xpressVisible=!0},postexpress:function(){var e=this;this.$refs.xpress.validate(function(t){t&&(0,n.postexpress)(e.xpress).then(function(t){t.result?(e.xpressVisible=!1,e.msg="已添加",e.$message({type:"success",message:e.msg})):(e.msg=t.msg,e.$message({type:"error",message:e.msg})),e.getList()})})},getgoods:function(){var e=this;(0,n.getgoodslist)(this.goodsall).then(function(t){e.coinList=t.data,e.coinList.unshift(e.allCoin)})}},created:function(){this.getList(),this.getgoods()}}}});
//# sourceMappingURL=55.7ef890f2d4500a364a1d.js.map