webpackJsonp([91],{183:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(810),l=a.n(n),i=a(987),u=a(23),o=u(l.a,i.a,null,null,null);t.default=o.exports},810:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(!function(){var e=new Error('Cannot find module "babel-runtime/core-js/promise"');throw e.code="MODULE_NOT_FOUND",e}()),i=n(l),u=a(24),o=n(u),r=a(11),s=n(r),c=[{value:0,label:"全部状态"},{value:1,label:"未付款"},{value:2,label:"待审核"},{value:3,label:"充值成功"},{value:4,label:"用户撤销"},{value:5,label:"系统取消"}],p=[{value:0,label:"全部状态"},{value:2,label:"等待提现"},{value:6,label:"正在处理"},{value:3,label:"提现成功"},{value:4,label:"用户撤消"},{value:5,label:"系统撤消"}];t.default={data:function(){return{tableData:[],tableHeader:[{prop:"id",label:"订单号",width:80},{prop:"username",label:"真实姓名",width:100},{prop:"userPhone",label:"手机号码",width:150},{prop:"type",label:"类型",width:80,formatter:function(e,t,a){return 1===a?"充值":2===a||3===a?"提现":a}},{prop:"amount",label:"金额",width:120},{prop:"fee",label:"手续费",width:120},{prop:"transStatus",label:"状态",width:120,formatter:function(e,t,a){if(1===e.type){var n=s.default.utils.findDataByValue(c,a,"value");return n?n.label:a}if(2===e.type||3===e.type){var l=s.default.utils.findDataByValue(p,a,"value");return l?l.label:a}}},{prop:"payee",label:"付款人",width:80},{prop:"payBankName",label:"支付/提现账户",width:180},{prop:"payBankAccount",label:"支付/提现帐号",width:240},{prop:"payBankAddress",label:"开户行地址",width:120},{prop:"receiptBankName",label:"收款账户",width:120},{prop:"receiptBankAccount",label:"收款帐号",width:240},{prop:"createTime",label:"创建时间",width:180,formatter:function(e,t,a){return s.default.utils.parseDateTimeStr(a)}},{prop:"updateTime",label:"最后修改时间",width:180,formatter:function(e,t,a){return s.default.utils.parseDateTimeStr(a)}},{prop:"auditUserId",label:"审核人",formatter:function(e,t,a){return 0===a?"":a}}],multipleSelection:[],currentRow:null,optionsStatus:[{value:0,label:"全部状态"}],valueStatus:0,valueStatusDisabled:!0,optionsType:[{value:0,label:"全部类型"},{value:1,label:"人民币充值"},{value:2,label:"人民币提现"}],valueType:0,optionsAccount:[],valueAccount:"",input:"",inputData:{username:"",type:0,transStatus:0,createTime:"",receiptBankName:"",receiptBankAccount:"",page:{pageNum:"",pageSize:10}},valueDate:"",pageNum:1,pageTotal:null,listLoading:!0}},methods:{handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)},handleSizeChange:function(e){this.inputData.page.pageSize=e,this.query(this.pageNum),console.log("每页 "+e+" 条")},handleTableCurrentChange:function(e){this.currentRow=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.query(e)},handleStatusChange:function(e){this.inputData.transStatus=e},handleTypeChange:function(e){switch(e){case 0:this.valueStatusDisabled=!0,this.optionsStatus=[{value:0,label:"全部状态"}];break;case 1:this.valueStatusDisabled=!1,this.optionsStatus=c;break;case 2:this.valueStatusDisabled=!1,this.optionsStatus=p}this.valueStatus=0,this.inputData.type=e},handleChangeDate:function(e){this.inputData.createTime=e},showConfirmDialog:function(e){if(0===this.multipleSelection.length)return void this.getMessage("请选择信息",!1);this.showDialog(e)},showDialog:function(e){var t=this,a=this;switch(e){case"examine":this.$confirm("已选"+a.multipleSelection.length+"条信息，确认审核？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.examine()}).catch(function(){t.$message({type:"info",message:"操作已取消"})});break;case"cancel":this.$confirm("共选中"+a.multipleSelection.length+"条信息，确认取消？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.cancel()}).catch(function(){t.$message({type:"info",message:"操作已取消"})});break;case"cancelAll":this.$confirm("取消全部充值订单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.cancelAll()}).catch(function(){t.$message({type:"info",message:"操作已取消"})})}},query:function(e){var t=this;return this.listLoading=!0,t.inputData.username=t.input,t.inputData.page.pageNum=e,console.log(t.inputData.receiptBankAccount),new i.default(function(e,a){(0,o.default)({url:"admin/rmbtransactions/query",method:"post",data:t.inputData}).then(function(e){e.result&&(t.tableData=e.data.data,t.pageTotal=e.data.page.count,t.listLoading=!1)})})},examine:function(){for(var e=this,t=[],a=0;a<this.multipleSelection.length;a++)t.push(this.multipleSelection[a].id);return new i.default(function(a,n){(0,o.default)({url:"admin/rmbrecharge/check",method:"put",data:{ids:t}}).then(function(t){t.result,e.getMessage(t.msg,t.result),e.query()})})},getMessage:function(e,t){t?this.$message({showClose:!0,message:e,type:"success"}):this.$message({showClose:!0,message:e,type:"error"})},cancel:function(){for(var e=this,t=[],a=0;a<this.multipleSelection.length;a++)t.push(this.multipleSelection[a].id);return new i.default(function(a,n){(0,o.default)({url:"admin/rmbrecharge/cancel",method:"put",data:{ids:t}}).then(function(t){t.result,e.getMessage(t.msg,t.result),e.query()})})},cancelAll:function(){var e=this;return new i.default(function(t,a){(0,o.default)({url:"admin/rmbrecharge/cancelall",method:"put"}).then(function(t){t.result,e.getMessage(t.msg,t.result),e.query()})})},getAccount:function(){var e=this;return new i.default(function(t,a){(0,o.default)({url:"admin/receiptaccounts?pageNum=1&pageSize=100",method:"get"}).then(function(t){console.log(t),t.result&&(e.optionsAccount=t.data.data)})})},accountCode:function(e,t){if(null!==e&&null!==t)return e+"  **"+t.substring(t.length-4,t.length)}},created:function(){this.query(this.pageNum),this.getAccount()}}},987:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-20"},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-select",{on:{change:e.handleTypeChange},model:{value:e.valueType,callback:function(t){e.valueType=t},expression:"valueType"}},e._l(e.optionsType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{attrs:{disabled:e.valueStatusDisabled},on:{change:e.handleStatusChange},model:{value:e.valueStatus,callback:function(t){e.valueStatus=t},expression:"valueStatus"}},e._l(e.optionsStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-input",{staticStyle:{"margin-left":"10px",width:"300px"},attrs:{placeholder:"请输入手机、姓名、订单号"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),a("span",{staticClass:"demonstration",staticStyle:{"margin-left":"10px"}},[e._v("创建日期")]),e._v(" "),a("el-date-picker",{attrs:{align:"right",clearable:!0,type:"date",placeholder:"选择日期"},on:{change:e.handleChangeDate},model:{value:e.valueDate,callback:function(t){e.valueDate=t},expression:"valueDate"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("收款账户")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"全部账户"},model:{value:e.inputData.receiptBankAccount,callback:function(t){e.inputData.receiptBankAccount=t},expression:"inputData.receiptBankAccount"}},e._l(e.optionsAccount,function(t){return a("el-option",{key:t.id,attrs:{label:e.accountCode(t.bankName,t.bankAccount),value:t.bankAccount}})})),e._v(" "),a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary"},on:{click:function(t){t.stopPropagation(),e.query(e.pageNum=1,e.inputData.transStatus)}}},[e._v("查询\n        ")])],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-text":"给我一点时间",border:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleTableCurrentChange}},e._l(e.tableHeader,function(e){return a("el-table-column",{key:e.prop,attrs:{label:e.label,prop:e.prop,width:e.width,"min-width":e.minWidth,align:e.align,formatter:e.formatter,"show-overflow-tooltip":""}})}))],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,50],"page-size":e.inputData.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},l=[],i={render:n,staticRenderFns:l};t.a=i}});
//# sourceMappingURL=91.e9dcf15515e7c988e4fc.js.map